import{_ as s,c as i,o as a,aj as n}from"./chunks/framework._AF764y6.js";const o=JSON.parse('{"title":"运维笔记","description":"","frontmatter":{"title":"运维笔记","date":"2023-10-31T10:09:53.000Z","permalink":"/pages/56ff58/","categories":["运维"],"tags":["note"],"author":"Manaphy"},"headers":[],"relativePath":"ops/其他/00.运维笔记.md","filePath":"ops/其他/00.运维笔记.md","lastUpdated":1743618064000}'),l={name:"ops/其他/00.运维笔记.md"},p=n(`<h2 id="gitlab迁移及升级" tabindex="-1">GitLab迁移及升级 <a class="header-anchor" href="#gitlab迁移及升级" aria-label="Permalink to “GitLab迁移及升级”">​</a></h2><p>先在GitLab的关于中查看版本号,以确定GitLab版本</p><p>使用 <code>docker exec -it gitlab bash</code>进入GitLab容器</p><p>使用<code>gitlab-rake gitlab:backup:create</code>备份GitLab 完成后 会在<code>/var/opt/gitlab/backups/</code>文件夹下生成 <code>时间戳_日期_版本号_gitlab_backup.tar</code>文件 如:<code>1600850168_2020_09_23_11.1.4_gitlab_backup.tar</code></p><p>完成备份后退出容器 将文件复制出来留作备份 <code>docker cp gitlab:/var/opt/gitlab/backups/*.tar ./</code></p><p>在新服务器中拉取相同版本号的GitLab</p><p>使用docker-compose.yml启动</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;3&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  gitlab</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;gitlab/gitlab-ce:11.1.4-ce.0&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">gitlab</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;192.168.0.197:8001&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">      TZ</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;Asia/Shanghai&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">      GITLAB_OMNIBUS_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">        external_url &#39;http://192.168.0.197:8001&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">        gitlab_rails[&#39;gitlab_shell_ssh_port&#39;] = 2222</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">        # unicorn[&#39;port&#39;] = 8888</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">        nginx[&#39;listen_port&#39;] = 80</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;8001:80&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;8443:443&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;2222:22&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/etc/localtime:/etc/localtime</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">./config:/etc/gitlab</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">./data:/var/opt/gitlab</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">./logs:/var/log/gitlab</span></span></code></pre></div><p>将备份文件复制到<code>./data/backups</code>目录</p><p>进入GitLab容器 使用<code>gitlab-rake gitlab:backup:restore BACKUP=1649640057_2022_04_11_10.0.0</code>恢复备份(注意要忽略<code>_gitlab_backup.tar</code>)</p><p>恢复完大功告成</p><h2 id="gitlab跨大版本升级" tabindex="-1">Gitlab跨大版本升级 <a class="header-anchor" href="#gitlab跨大版本升级" aria-label="Permalink to “Gitlab跨大版本升级”">​</a></h2><p>官方的升级路线指南 <a href="https://docs.gitlab.com/ee/update/index.html#upgrading-to-a-new-major-version" target="_blank" rel="noreferrer">https://docs.gitlab.com/ee/update/index.html#upgrading-to-a-new-major-version</a></p><p>升级路线</p><p><strong>8.13.4</strong> → <strong>8.17.7</strong> → <strong>9.5.10</strong> → <strong>10.8.7</strong> → <strong>11.11.8</strong> → <strong>12.0.12</strong> → <strong>12.1.17</strong> → <strong>12.10.14</strong> → <strong>13.0.14</strong> → <strong>13.1.11</strong> →<strong>13.8.8</strong> → <strong>13.12.15</strong> →<strong>14.0.12</strong>→ latest</p><p>预先拉取好需要的版本</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:10.8.7-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:11.11.8-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:12.0.2-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:12.1.17-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:12.10.14-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:13.0.14-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:13.1.11-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:13.8.8-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:13.12.15-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:14.0.12-ce.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gitlab/gitlab-ce:latest</span></span></code></pre></div><p>使用<code>docker-compose down</code>停止容器</p><p>修改<code>docker-compose.yml</code>文件的gitlab版本号</p><p>启动<code>docker-compose up -d</code></p><h2 id="gitlab-忘记-root-密码" tabindex="-1">Gitlab 忘记 root 密码 <a class="header-anchor" href="#gitlab-忘记-root-密码" aria-label="Permalink to “Gitlab 忘记 root 密码”">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">gitlab-rails</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> production</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 如果报错,就是版本不一样,使用以下命令</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">gitlab-rails</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> console</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> production</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 成功会出现类似以下内容</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">--------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> Ruby:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">         ruby</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 2.7.5p203</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (2021-11-24 </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">revision</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> f69aeb8314</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) [x86_64-linux]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> GitLab:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">       14.6.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (3bc07a0be9c) FOSS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> GitLab</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Shell:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 13.22.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> PostgreSQL:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">   12.7</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">--------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Loading</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> production</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (Rails </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">6.1.4.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">irb(main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">):001:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 查询 root 用户</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">irb(main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">):002:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> user = User.where(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">username:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">&quot;root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">).first</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#&lt;User id:1 @root&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 修改密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">irb(main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">):002:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> user.password = </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;newpassword&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;newpassword&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#保存退出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">irb(main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">):003:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> user.save</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">irb(main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">):003:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> exit</span></span></code></pre></div><h2 id="harbor镜像清理" tabindex="-1">Harbor镜像清理 <a class="header-anchor" href="#harbor镜像清理" aria-label="Permalink to “Harbor镜像清理”">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 进入安装目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> down</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gc</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --volumes-from</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> vmware/registry-photon:v2.6.2-v1.5.0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> garbage-collect</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --dry-run</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /etc/registry/config.yml</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 重新启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -d</span></span></code></pre></div><h2 id="docker远程debug" tabindex="-1">Docker远程debug <a class="header-anchor" href="#docker远程debug" aria-label="Permalink to “Docker远程debug”">​</a></h2><p>在服务的Dockerfile中添加</p><p>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005</p><div class="language-dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  openjdk:11-jdk</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">MAINTAINER</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> Manaphy</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> TZ=Asia/Shanghai</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">ARG</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> JAR_FILE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> mkdir -p /jar</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /jar</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> \${JAR_FILE} /jar/app.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> java -Djava.security.egd=file:/dev/./urandom -jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 app.jar</span></span></code></pre></div><p>docker开放5005端口</p><p>在idea中配置</p><img src="https://www.pnglog.com/UHL35A.png" alt="image-20231026165618389">`,31),t=[p];function h(k,e,r,d,g,F){return a(),i("div",null,t)}const y=s(l,[["render",h]]);export{o as __pageData,y as default};
