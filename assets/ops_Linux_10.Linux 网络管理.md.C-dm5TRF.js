import{_ as d}from"./chunks/ArticleMetadata.H12JcJLK.js";import{_ as g,E as y,c as D,o as n,j as r,I as l,aj as F,w as k,b as p,e,a as C}from"./chunks/framework._AF764y6.js";const o="/assets/1610876423251-eca89b75-95f5-47f2-ba74-dc4053b640cc_3hoM3YlVG4.3wpfRG3q.png",c="/assets/1610879873780-e3e2771a-a68b-4ba4-8d46-5fcd392e7b8f_IL0rcenNm4.EmgFgAn_.png",w=JSON.parse('{"title":"Linux 网络管理","description":"","frontmatter":{"title":"Linux 网络管理","date":"2023-10-26T22:29:50.000Z","permalink":"/linux/network/","categories":["运维","Linux"],"tags":["linux"],"author":"Manaphy"},"headers":[],"relativePath":"ops/Linux/10.Linux 网络管理.md","filePath":"ops/Linux/10.Linux 网络管理.md","lastUpdated":1743618064000}'),A={name:"ops/Linux/10.Linux 网络管理.md"},u=r("h1",{id:"相关命令",tabindex:"-1"},[C("相关命令 "),r("a",{class:"header-anchor",href:"#相关命令","aria-label":"Permalink to “相关命令”"},"​")],-1),_=F(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ifconfig</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看网络接口属性</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ifconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> eth0</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看某网卡的配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">route</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -n</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看路由表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -lntp</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看所有监听端口</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -antp</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看已经建立的TCP连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -lutp</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看TCP/UDP的状态信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ifup</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> eth0</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#启用eth0网络设备</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ifdown</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> eth0</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#禁用eth0网络设备</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">iptables</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -L</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看iptables规则</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ifconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> eth0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 192.168.1.1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> netmask</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 255.255.255.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#配置ip地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">dhclient</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> eth0</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#以dhcp模式启用eth0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">route</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -net</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 0/0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gw</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Gateway_IP</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#配置默认网关</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">route</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -net</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 192.168.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> netmask</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 255.255.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gw</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 192.168.1.1</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#配置静态路由到达网络&#39;192.168.0.0/16&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">route</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> del</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 0/0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> gw</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Gateway_IP</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#删除静态路由</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">hostname</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查看主机名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">host</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> www.baidu.com</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#解析主机名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">nslookup</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> www.baidu.com</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#查询DNS记录,查看域名解析是否正常</span></span></code></pre></div><h1 id="netstat-监控网络状态" tabindex="-1">netstat 监控网络状态 <a class="header-anchor" href="#netstat-监控网络状态" aria-label="Permalink to “netstat 监控网络状态”">​</a></h1>`,2),m=F(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -an</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #按一定顺序排列输出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #显示哪个进程在调用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -anp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sshd</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #查看服务名为 sshd 的服务的信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -tulnp</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # 查看端口占用</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-a 显示所有连接中的 Socket</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-p 显示占用端口的进程名和PID</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-t 显示 TCP 协议的连接状态</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-u 显示 UDP 协议的连接状态</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-n 以数字形式显示 IP 地址和端口号</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-l 仅列出正在监听的服务状态</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-i 现在网卡列表信息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-r 显示路由表信息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@manaphy system]# netstat -an </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">more</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Active</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Internet</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> connections</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (servers </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">and</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> established</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">Proto:网络协议;Local Address:本地地址;Foreign Address:外部地址;State状态</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">State状态类型--&gt;LISTEN:监听;ESTABLISHED:建立连接;TIME_WAIT:超时等待</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Proto</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Recv-Q</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Send-Q</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Local</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Address</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">           Foreign</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Address</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">         State</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">      0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 0.0.0.0:22</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">              0.0.0.0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">               LISTEN</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">      0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 127.0.0.1:25</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">            0.0.0.0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">               LISTEN</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># xshell与centos建立连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">     36</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 192.168.111.111:22</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">      192.168.111.1:61301</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     ESTABLISHED</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># :::22是IPv6的本机ip地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tcp6</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">       0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">      0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> :::22</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                   :::</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                    LISTEN</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tcp6</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">       0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">      0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ::1:25</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                  :::</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                    LISTEN</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">     </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">raw6</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">       0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">      0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> :::58</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                   :::</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                    7</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Active</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> UNIX</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> domain</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sockets</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (servers </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">and</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> established</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Proto</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> RefCnt</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Flags</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">       Type</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">       State</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">         I-Node</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   Path</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">unix</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  2</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      [ </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">ACC</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ]</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     STREAM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     LISTENING</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">     19605</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    public/pickup</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">unix</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  2</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      [ </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">ACC</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ]</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     STREAM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">     LISTENING</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">     19609</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    public/cleanup</span></span></code></pre></div><h1 id="ping-检测主机连接" tabindex="-1">ping 检测主机连接 <a class="header-anchor" href="#ping-检测主机连接" aria-label="Permalink to “ping 检测主机连接”">​</a></h1>`,2),B=F(`<blockquote><p>是一种网络检测工具，它主要是用检测远程主机是否正常，或是两部主机间的网线或网卡故障。</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> baidu.com</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-c 总共发送次数</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-l 指定网卡名称</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-I 每次间隔时间(秒)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-W 最长等待时间(秒)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# tracepath baidu.com </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#显示数据包到达目的主机时途中经过的所有路由信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 1?:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [LOCALHOST]                                         pmtu 1500</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  10.130.64.18</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                          1.977ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  10.33.244.18</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                          1.818ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 2:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  11.73.1.145</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                           2.721ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 3:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  11.94.147.205</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                         1.869ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 4:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  11.94.128.166</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                         4.248ms</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> asymm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  5</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 5:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  10.102.41.165</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                         4.318ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 6:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  124.160.190.81</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                        4.846ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 7:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  124.160.83.5</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                          6.738ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 8:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  219.158.118.45</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                       23.040ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> 9:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  110.242.66.190</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                       28.395ms</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">10:</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  221.194.45.134</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                                       27.958ms</span></span></code></pre></div><p>查看网络流量</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">iftop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">nload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">atop</span></span></code></pre></div><h1 id="固定ip" tabindex="-1">固定ip <a class="header-anchor" href="#固定ip" aria-label="Permalink to “固定ip”">​</a></h1>`,5),b=F(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /etc/sysconfig/network-scripts/ifcfg-ens32</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #这里ens32每台机器不一定相同</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 内容如下</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;Ethernet&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #网络类型(通常是 Ethemet)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">PROXY_METHOD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;none&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">BROWSER_ONLY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;no&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">BOOTPROTO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;dhcp&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # IP 的配置方法[none|static|bootp|dhcp](引导时不使用协议|静态分配 IP|BOOTP 协议|DHCP 协议)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DEFROUTE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;yes&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">IPV4_FAILURE_FATAL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;no&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">IPV6INIT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;yes&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">IPV6_AUTOCONF</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;yes&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">IPV6_DEFROUTE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;yes&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">IPV6_FAILURE_FATAL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;no&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">IPV6_ADDR_GEN_MODE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;stable-privacy&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;ens32&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">UUID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;c5417639-5138-438b-a986-7b469b037367&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DEVICE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;ens32&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #接口名(设备,网卡)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ONBOOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;yes&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #系统启动的时候网络接口是否有效</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 配置静态ip需要添加以下设置,并修改BOOTPROTO=&quot;static&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">IPADDR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">192.168.111.111</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #IP 地址</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">GATEWAY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">192.168.111.2</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #网关</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DNS1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">192.168.111.2</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #域名解析器</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#配置完后重启网络或重启系统</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">	network</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> restart</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">nmcli</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> connection</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> reload</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #AlmaLinux使用该命令</span></span></code></pre></div><p><strong>修改Vmware设置</strong></p><p>子网IP</p><p><img src="`+o+'" alt="image.png"></p><p>完成以上步骤后即可修改为静态ip</p><h1 id="设置主机名和hosts-映射" tabindex="-1">设置主机名和hosts 映射 <a class="header-anchor" href="#设置主机名和hosts-映射" aria-label="Permalink to “设置主机名和hosts 映射”">​</a></h1>',6),E=F(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /etc/hostname</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #设置主机名,重启后生效</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /etc/hosts</span></span></code></pre></div><h1 id="主机名解析过程分析-hosts、dns" tabindex="-1">主机名解析过程分析(Hosts、DNS) <a class="header-anchor" href="#主机名解析过程分析-hosts、dns" aria-label="Permalink to “主机名解析过程分析(Hosts、DNS)”">​</a></h1>`,2),T=F(`<p><strong>Hosts 是什么</strong></p><blockquote><p>一个文本文件，用来记录 IP 和 Hostname(主机名)的映射关系</p></blockquote><p><strong>DNS</strong></p><blockquote><p>DNS，就是 Domain Name System 的缩写，翻译过来就是域名系统 是互联网上作为域名和 IP 地址相互映射的一个<strong>分布式数据库</strong></p></blockquote><p><strong>应用实例</strong>: 用户在浏览器输入了www.baidu.com</p><ol><li>浏览器先检查浏览器缓存中有没有该域名解析 IP 地址，有就先调用这个 IP 完成解析；如果没有，就检查 DNS 解析器缓存，如果有直接返回 IP 完成解析。这两个缓存，可以理解为 本地解析器缓存</li><li>一般来说，当电脑第一次成功访问某一网站后，在一定时间内，浏览器或操作系统会缓存他的 IP 地址（DNS 解析记录）如 在 cmd 窗口中输入</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ipconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /displaydns</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#DNS 域名解析缓存</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ipconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /flushdns</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#手动清理 dns 缓存</span></span></code></pre></div><ol start="3"><li>如果本地解析器缓存没有找到对应映射，检查系统中 hosts 文件中有没有配置对应的域名 IP 映射，如果有，则完成解析并返回。</li><li>如果 本地 DNS 解析器缓存 和 hosts 文件 中均没有找到对应的 IP，则到域名服务 DNS 进行解析域</li><li>示意图</li></ol><p><img src="`+c+'" alt="image.png"></p>',9);function I(s,f,P,S,v,N){const h=d,t=y("ClientOnly");return n(),D("div",null,[u,l(t,null,{default:k(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),p(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),_,l(t,null,{default:k(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),p(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),m,l(t,null,{default:k(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),p(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),B,l(t,null,{default:k(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),p(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),b,l(t,null,{default:k(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),p(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),E,l(t,null,{default:k(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),p(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),T])}const O=g(A,[["render",I]]);export{w as __pageData,O as default};
