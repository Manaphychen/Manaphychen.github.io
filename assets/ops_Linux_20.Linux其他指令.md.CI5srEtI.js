import{_ as s,c as i,o as a,aj as h}from"./chunks/framework._AF764y6.js";const C=JSON.parse('{"title":"Linux其他指令","description":"","frontmatter":{"title":"Linux其他指令","date":"2023-10-26T22:49:00.000Z","permalink":"/linux/other/","categories":["运维","Linux"],"tags":["linux"],"author":"Manaphy"},"headers":[],"relativePath":"ops/Linux/20.Linux其他指令.md","filePath":"ops/Linux/20.Linux其他指令.md","lastUpdated":1744977432000}'),n={name:"ops/Linux/20.Linux其他指令.md"},k=h(`<h1 id="内核升级及删除旧内核" tabindex="-1">内核升级及删除旧内核 <a class="header-anchor" href="#内核升级及删除旧内核" aria-label="Permalink to “内核升级及删除旧内核”">​</a></h1><p>内核地址：<a href="https://www.kernel.org/" target="_blank" rel="noreferrer">https://www.kernel.org/</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载内核</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.10.9.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 升级内核</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #查看当前的内核版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -q</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #检测内核版本，显示可以升级的</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #升级内核</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -q</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #查看已经安装的内核</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除旧内核</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1.查看系统中全部的内核RPM包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2.删除旧内核的RPM包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel-2.6.18-194.el5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel-devel-2.6.18-194.el5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3.重启</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre></div><p>内核升级后不会立即生效，重启后会进入选择页面选择内核版本</p><h1 id="curl命令" tabindex="-1">curl命令 <a class="header-anchor" href="#curl命令" aria-label="Permalink to “curl命令”">​</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 文件url</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux服务器获取自己外网IP地址的方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ifconfig.me</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cip.cc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #如果以上命令无效</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># post json请求</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type:application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;name&quot;:10,&quot;partId&quot;:&quot;2354325235&quot;}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;http://www.baidu.ad/getapi&#39;</span></span></code></pre></div><h1 id="查询案例" tabindex="-1">查询案例 <a class="header-anchor" href="#查询案例" aria-label="Permalink to “查询案例”">​</a></h1><h2 id="查询系统状态" tabindex="-1">查询系统状态 <a class="header-anchor" href="#查询系统状态" aria-label="Permalink to “查询系统状态”">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CPU占用最多的前10个进程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -k3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 内存消耗最多的前10个进程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -k4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 虚拟内存使用最多的前10个进程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -k5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查询以上全部进程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sort=rss</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auxw</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sort=%cpu</span></span></code></pre></div><h2 id="查看用户登录记录" tabindex="-1">查看用户登录记录 <a class="header-anchor" href="#查看用户登录记录" aria-label="Permalink to “查看用户登录记录”">​</a></h2><p>有关用户登录的信息记录在 utmp(/var/run/utmp)、wtmp(/var/log/wtmp)、btmp(/var/log/btmp) 和 lastlog(/var/log/lastlog) 等文件中。<br>who、w 和 users 等命令通过 utmp(/var/run/utmp) 文件查询当前登录用户的信息。<br>last 和 ac 命令通过 wtmp(/var/log/wtmp) 文件查询当前与过去登录系统的用户的信息。<br>lastb 命令通过 btmp(/var/log/btmp) 文件查询所有登录系统失败的用户的信息。<br>lastlog 命令通过 lastlog(/var/log/lastlog) 文件查询用户最后一次登录的信息。</p><h3 id="who" tabindex="-1">who <a class="header-anchor" href="#who" aria-label="Permalink to “who”">​</a></h3><p>显示当前当登录的用户的信息</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# who</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        2021-09-10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14:33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (60.177.143.9)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        2021-09-10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14:33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (60.177.143.9)</span></span></code></pre></div><h3 id="w" tabindex="-1">w <a class="header-anchor" href="#w" aria-label="Permalink to “w”">​</a></h3><p>显示登录的用户及其当前执行的任务</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# w</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 14:34:02</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 112</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> days,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  2:42,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> users,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  load</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> average:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0.01,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0.13,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.16</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     TTY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             LOGIN@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   IDLE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   JCPU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   PCPU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> WHAT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     14:33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    2.00s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.00s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.00s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> w</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     14:33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   42.00s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.05s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.05s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> top</span></span></code></pre></div><h3 id="users" tabindex="-1">users <a class="header-anchor" href="#users" aria-label="Permalink to “users”">​</a></h3><p>显示当前当登录的用户的用户名</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# users</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span></span></code></pre></div><h3 id="last" tabindex="-1">last <a class="header-anchor" href="#last" aria-label="Permalink to “last”">​</a></h3><p>显示当前与过去登录系统的用户的信息</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# last</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14:33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   still</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14:33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   still</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:35</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:26)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:35</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:26)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        183.156.227.159</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Wed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17:28</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 18:33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (01:04)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     pts/0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        183.156.227.159</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Wed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17:28</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 18:33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (01:04)</span></span></code></pre></div><h3 id="lastb" tabindex="-1">lastb <a class="header-anchor" href="#lastb" aria-label="Permalink to “lastb”">​</a></h3><p>显示所有登录系统失败的用户的信息</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# lastb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tomcat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    182.254.156.93</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 12:26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 12:26</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tomcat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    182.254.156.93</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 12:26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 12:26</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elastics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    47.97.40.237</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elastics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    47.97.40.237</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:37</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:37</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elastic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    47.97.40.237</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:44</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:44</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elastic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    47.97.40.237</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:44</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:44</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ftpuser</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    182.254.156.93</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 06:51</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 06:51</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ftpuser</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ssh:notty</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    182.254.156.93</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 06:51</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 06:51</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (00:00)</span></span></code></pre></div><h3 id="lastlog" tabindex="-1">lastlog <a class="header-anchor" href="#lastlog" aria-label="Permalink to “lastlog”">​</a></h3><p>显示用户最后一次登录的信息</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# lastlog</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">用户名</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           端口</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     来自</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             最后登陆时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             pts/1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    60.177.143.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     五</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14:33:18</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +0800</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2021</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                        **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">daemon</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                     **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                        **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                         **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                       **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                   **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">halt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                       **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                       **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">operator</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                   **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">games</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                      **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ftp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                        **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nobody</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                     **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemd-network</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                            **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dbus</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                       **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">polkitd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                    **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sshd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                       **</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">从未登录过</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">**</span></span></code></pre></div><h3 id="ac" tabindex="-1">ac <a class="header-anchor" href="#ac" aria-label="Permalink to “ac”">​</a></h3><p>显示用户连接时间的统计数据<br>CentOS使用 <code>yum install psacct</code> 安装<br>其他系统 使用 <code>acct</code>安装</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 显示每天的总的连接时间</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# ac -d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 27</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  total</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        7.88</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 28</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  total</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        3.74</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  total</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       17.22</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  total</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        5.34</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 显示每个用户的总的连接时间</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# ac -p</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                               624.16</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        total</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      624.16</span></span></code></pre></div><h1 id="案例解析" tabindex="-1">案例解析 <a class="header-anchor" href="#案例解析" aria-label="Permalink to “案例解析”">​</a></h1><p><strong>分析日志t.log(访问量)，将各个ip 地址截取，并统计出现次数,并按从大到小排序</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.200.10/index1.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.200.10/index2.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.200.20/index1.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.200.30/index1.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.200.40/index1.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.200.30/order.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.200.10/order.html</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> t.log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> uniq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -nr</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">解析:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cat t.log #查看文件</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cut -d &#39;/&#39; -f 3 #按 / 分割,截取第3段</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sort #排序(默认从小到大排)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">uniq -c #统计个数(统计前必须前 sort 排序)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sort -nr #从大到小排序</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">!</span></span></code></pre></div><p><strong>统计连接到服务器的各个 ip 情况，并按连接数从大到小排序</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -an</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ESTABLISHED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $5}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;:&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> uniq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -nr</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">netstat -an #查看网络连接状况</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">grep ESTABLISHED #过滤获取ESTABLISHED状态的连接</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">awk -F &quot; &quot; &#39;{print </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39; #通过空格截取第5段(因为cut支持空格)(多个空格连在一起算一个)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">!</span></span></code></pre></div><p><strong>找回mysql5.7的root用户密码</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/my.cnf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #编辑mysql配置文件,在文件末尾添加一行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">skip-grant-tables</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #跳过权限表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #重启mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#使用空密码登录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -uroot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> authentication_string=password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;rootpwd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">where</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;root&quot;;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">flush privileges;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">#退出登录</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">#重新注释掉skip-grant-tables</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">#重启mysql</span></span></code></pre></div><p><strong>统计 ip 访问情况，要求分析nginx 访问日志(access.log)，找出访问页面数量在前 2 位的 ip</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> access.log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> uniq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -nr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -2</span></span></code></pre></div><p><strong>使用 tcpdump 监听本机，将来自ip 192.168.200.1，tcp 端口为 22 的数据，保存输出到tcpdump.log</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tcpdump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ens33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	host</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	192.168.200.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 22</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	&gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/tcpdump.log</span></span></code></pre></div><p><strong>常用的Nginx 模块，用来做什么</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>rewrite 模块 实现重写功能</span></span>
<span class="line"><span>access 模块 来源控制</span></span>
<span class="line"><span>ssl 模块 安全加密</span></span>
<span class="line"><span>ngx_http_gzip_module 网络传输压缩模块</span></span>
<span class="line"><span>ngx_http_proxy_module 模块实现代理</span></span>
<span class="line"><span>ngx_http_upstream_module 模块实现定义后端服务器列表</span></span>
<span class="line"><span>ngx_cache_purge 实现缓存清除功能</span></span></code></pre></div><p><strong>权限操作思考题</strong></p><ol><li>用户 tom 对目录 /home/test 有执行 x 和读 r 写 w 权限，/home/test/hello.java 是只读文件，问 tom 对 hello.java 文件能读吗(ok)? 能修改吗(no)？能删除吗?(ok)</li><li>用户tom  对目录 /home/test  只有读写权限，/home/test/hello.java  是只读文件，问tom 对 hello.java 文件能读吗(no)?  能修改吗(no)？能删除吗(no)?</li><li>用户 tom 对目录 /home/test 只有执行权限 x，/home/test/hello.java 是只读文件，问 tom 对 hello.java 文件能读吗(ok)? 能修改吗(no)？能删除吗(no)?</li><li>用户 tom 对目录 /home/test 只有执行和写权限，/home/test/hello.java 是只读文件，问 tom 对 hello.java 文件能读吗(ok)? 能修改吗(no)？能删除吗(ok)?</li></ol><p><strong>列举 Linux 高级命令</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netstat</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #网络状态监控</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -tunlp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #查看端口占用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">top</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #系统运行状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsblk</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #创建硬盘分区</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aux</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #查看运行进程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chkconfig</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #查看服务启动状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #管理系统</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iotop</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #查看io读写</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">df</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -lh</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #查看磁盘存储</span></span></code></pre></div><p><strong>使用 Linux 命令计算 t2.txt 第二列的和并输出</strong><br>张三 40<br>李四 50<br>王五 60</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> t2.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{sum+=$2} END {print sum}&#39;</span></span></code></pre></div><p><strong>Shell 脚本里如何检查一个文件是否存在？并给出提示</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fun.sh ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;存在&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;不存在&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span></code></pre></div><p><strong>用shell 写一个脚本，对文本 t3.txt 中无序的一列数字排序，并将总和输出</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -nr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> t3.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{sum+=$0; print $0} END {print &quot;和=&quot;sum}&#39;</span></span></code></pre></div><p><strong>请用指令写出查找当前文件夹（/home）下所有的文本文件内容中包含有字符 “cat” 的文件名称</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cat&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;:&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div><p><strong>请写出统计/home 目录下所有文件个数和所有文件总行数的指令</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.*&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.*&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span></code></pre></div><p><strong>每天晚上 10 点 30 分，打包站点目录/var/spool/mail 备份到/home 目录下</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/spool/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/bin/tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zcf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/mail-\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%Y-%m-%d_%H%M%S\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mail/</span></span></code></pre></div>`,62),t=[k];function p(l,e,F,r,d,g){return a(),i("div",null,t)}const B=s(n,[["render",p]]);export{C as __pageData,B as default};
