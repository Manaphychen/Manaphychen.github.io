import{_ as o}from"./chunks/ArticleMetadata.H12JcJLK.js";import{_ as y,E as c,c as f,o as i,aj as g,I as p,j as e,w as r,b as d,e as h,a as k}from"./chunks/framework._AF764y6.js";const A="data:image/png;base64,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",u="data:image/png;base64,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",x="/assets/vtQL8E.BRbexwev.png",m="/assets/8zLadM.DdyxKTpA.gif",v="/assets/GlXqQT.CEGSjMeQ.png",b="/assets/A4GPyV.yJlLq5jJ.png",C="/assets/j6gUVp.icJ6TQc-.png",D="/assets/EClmsH.CFm5wo8t.png",S="/assets/EClmsH.CFm5wo8t.png",F="/assets/rf5530.DNeI1cst.png",T="/assets/mu5xIx.D-UbU-HP.png",j="/assets/VAzDId.CbKrYH72.png",P="/assets/cY0Wq1.COwtlmTv.png",G=JSON.parse('{"title":"class文件解析","description":"","frontmatter":{"title":"class文件解析","date":"2023-11-02T10:54:56.000Z","permalink":"/pages/8b4998/","categories":["后端","Java基础"],"tags":[null],"author":"Manaphy"},"headers":[],"relativePath":"java/Java基础/10.class文件解析.md","filePath":"java/Java基础/10.class文件解析.md","lastUpdated":1743618064000}'),O={name:"java/Java基础/10.class文件解析.md"},V=g(`<p>我是一个 .java 文件，名叫 FlashObject.java，叫我<strong>小渣</strong>就行。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> FlashObject</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> name;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> age;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>我马上就要被 JVM 虚拟机老大加载并运行了，此时<strong>老虚</strong>走了过来。</p><p>老虚：小渣呀，我马上就要把你载了，你先瘦身一下，别占太大地方。</p><p>小渣：好的，没问题，等我十秒钟。</p><p><code>public class FlashObject{private String name;private int age;public int add(int a,int b){return a+b;}</code></p><p>小渣：老虚，我瘦身好了，你看看。</p><p>老虚：...，你是不是有病。</p><p>小渣：怎么了，我把没用的空格和回车啥的都去掉了，瘦身了好多呢！</p><p>老虚：行吧，看你这智商，我就给你解释解释。你现在仍然是个文本文件，让你瘦身是让你定一个紧凑的数据结构来表示你这个 Java 文件里的信息，然后告诉我这个数据结构中每个字节都代表什么。</p><p>小渣：哦哦，这样啊。</p><p>老虚：对啊，这样一是方便我去加载，二是我这个虚拟机可不只是为你 Java 语言服务的，还有很多语言最终都可以转换为我虚拟机识别的，你得设计一个通用的格式。</p><p>小渣：嗯嗯，这回我明白啦！</p><h1 id="_1-类信息" tabindex="-1">1. <strong>类信息</strong> <a class="header-anchor" href="#_1-类信息" aria-label="Permalink to “1. 类信息”">​</a></h1>`,14),E=e("p",null,[k("我的"),e("strong",null,"类名"),k("叫 FlashObject。")],-1),B=e("p",null,"先找个地方把它存起来，放开头吧。",-1),_=e("p",null,[e("img",{src:A,alt:""})],-1),K=e("p",null,"嗯，完美。",-1),J=e("h1",{id:"_2-常量池",tabindex:"-1"},[k("2. "),e("strong",null,"常量池"),k(),e("a",{class:"header-anchor",href:"#_2-常量池","aria-label":"Permalink to “2. 常量池”"},"​")],-1),X=g('<p>慢慢地，我发现需要字符串名字的地方越来越多。</p><p>除了刚刚的类名、父类名、接口名，还有属性名、方法名、属性的类名、方法的入参类型名、返回值类型名，等等等等。</p><p>一方面，要是每个都这么展开写下去，那文件格式会很乱，很多结构都是变长的。</p><p>另一方面，很多字符串都是重复的，比如属性 name 的类名 String，与方法 getName 的返回值类名 String，重复写两遍，就浪费了空间。</p><p>因此，我决定，之前的方案作废，设计一个新的结构来统一存储这些字符串，我给他起名为<strong>常量池</strong>。</p><p><img src="'+u+'" alt=""></p><p>OK，总结一下我们目前的整体方案。</p><p>开头存<strong>常量池</strong>，之后需要的常量就全往这里放，用一个索引指向它即可。</p><p>紧接着存放<strong>类本身</strong>的相关信息，我们存放了<strong>当前类、父类以及接口</strong>的信息。</p><p>看来老虚要求的瘦身工作，已经初具规模啦。</p><h1 id="_3-变量" tabindex="-1">3. <strong>变量</strong> <a class="header-anchor" href="#_3-变量" aria-label="Permalink to “3. 变量”">​</a></h1>',11),N=g('<p>现在类本身的信息，已经找到合适的位置存放起来了，接下来我们存变量。</p><p>变量也可能有多个，所以结构依然仿照我们之前的思路，开头存数量，后面紧跟着各个存放变量的数据结构。</p><p><img src="'+x+'" alt=""></p><p>至于变量用什么数据结构来存，是不是定长的，那就是我们接下来要设计的了。</p><p>我们把其中一个变量拿出来，看看它有什么？</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>private String name;</p></div><p>非常清晰，private 这部分是变量的标记，String 是变量类型，name 是变量名字。</p><h2 id="先看标记部分" tabindex="-1"><strong>先看标记部分</strong> <a class="header-anchor" href="#先看标记部分" aria-label="Permalink to “先看标记部分”">​</a></h2><p>除了 private，还有 public、protected、static、final、volatile、transient 等，有的可以放在一起，比如</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>public static final String name；</p></div><p>有的不能放在一起，比如</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>public private String name; //错误</p></div><p>我们用<strong>位图</strong>的方式，每一个标记用一个位来表示（比如 public 在第一个位，private 在第二个位，static 在第四个位，final 在第五个位...），这样不论如何排列组合，最终的值都是不一样的。</p><p><img src="'+m+'" alt=""></p><p>我们把这些标记所对应的值，都设计并记录下来。</p><p>复合型的标记，就可以表现为将其相加，比如 public static，就是 0x0001 + 0x0008 = 0x0009。</p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>标记</strong></th><th style="text-align:left;"><strong>值</strong></th></tr></thead><tbody><tr><td style="text-align:left;">public</td><td style="text-align:left;">0x0001</td></tr><tr><td style="text-align:left;">private</td><td style="text-align:left;">0x0002</td></tr><tr><td style="text-align:left;">protected</td><td style="text-align:left;">0x0004</td></tr><tr><td style="text-align:left;">static</td><td style="text-align:left;">0x0008</td></tr><tr><td style="text-align:left;">final</td><td style="text-align:left;">0x0010</td></tr><tr><td style="text-align:left;">volatile</td><td style="text-align:left;">0x0040</td></tr><tr><td style="text-align:left;">transient</td><td style="text-align:left;">0x0080</td></tr></tbody></table><p>而这样的赋值方式，不同排列组合后的和没有重复的，且也能根据值很方便地反推出标记。</p><p>不错不错，就这样了。</p><p>哦对了，类信息本身也有 public 呀 private 这些标记属性，刚刚记录类信息的时候忘了，先加上它，免得一会忘了！</p><p><img src="'+v+'" alt=""></p><h2 id="再看类型部分" tabindex="-1"><strong>再看类型部分</strong> <a class="header-anchor" href="#再看类型部分" aria-label="Permalink to “再看类型部分”">​</a></h2><p>当前类型为 String，属于一个引用数据类型中的<strong>类类型</strong>。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>private String name;</p></div><p>除此之外，还有<strong>八个基本数据类型</strong>，和引用类型中的<strong>数组类型</strong>。</p><p>为了占用更少的空间，我们将其用最少的符号来表示。</p><p>这里的基本数据类型，和数组类型，都只占用一个 char 来表示，就只占了 1 个字节。</p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>符号表示</strong></th><th style="text-align:left;"><strong>类型</strong></th></tr></thead><tbody><tr><td style="text-align:left;">B</td><td style="text-align:left;">byte</td></tr><tr><td style="text-align:left;">C</td><td style="text-align:left;">char</td></tr><tr><td style="text-align:left;">D</td><td style="text-align:left;">double</td></tr><tr><td style="text-align:left;">F</td><td style="text-align:left;">float</td></tr><tr><td style="text-align:left;">I</td><td style="text-align:left;">int</td></tr><tr><td style="text-align:left;">J</td><td style="text-align:left;">long</td></tr><tr><td style="text-align:left;">S</td><td style="text-align:left;">short</td></tr><tr><td style="text-align:left;">Z</td><td style="text-align:left;">boolean</td></tr><tr><td style="text-align:left;">L_ClassName_ ;</td><td style="text-align:left;">类</td></tr><tr><td style="text-align:left;">[</td><td style="text-align:left;">数组</td></tr></tbody></table><p>如果是类，则占用了 L 和 ; 两个字节，再加上全类名所占的字节数。</p><p>比如这里的 String 类型，用符号表示，就是</p><p>Ljava/lang/String;</p><p>但注意，这里的符号，也都可以存放在常量池中，而我们的变量结构中的类型描述符部分，只需要一个常量池索引即可。</p><p><img src="'+b+'" alt=""></p><p>ok，第二部分也搞定了。</p><h2 id="再看名字部分" tabindex="-1"><strong>再看名字部分</strong> <a class="header-anchor" href="#再看名字部分" aria-label="Permalink to “再看名字部分”">​</a></h2><p>名字部分没什么好说的，相信你直接能猜到了，直接上图。</p><p><img src="'+C+'" alt=""></p><p>搞定！</p><h1 id="_4-方法" tabindex="-1">4. <strong>方法</strong> <a class="header-anchor" href="#_4-方法" aria-label="Permalink to “4. 方法”">​</a></h1>',39),q=g(`<p>方法也可能会有很多，我目前只有两个方法，我们拿 add 方法来分析。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> a, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> b) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>当然更准确地说，我还有个没写出来的构造方法。</p><p>总之，可能会有很多。</p><p>不过有了设计变量的经验，方法的数据结构很快就有了雏形。</p><p><img src="`+D+'" alt=""></p><p><strong>标记部分</strong>，和变量标记部分的思路一样，值也差不多，我们也给他们赋上值就好了。</p><p><strong>方法描述符</strong>，说的是方法的入参与返回值，比如我们的：</p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>标记</strong></th><th style="text-align:left;"><strong>值</strong></th></tr></thead><tbody><tr><td style="text-align:left;">public</td><td style="text-align:left;">0x0001</td></tr><tr><td style="text-align:left;">private</td><td style="text-align:left;">0x0002</td></tr><tr><td style="text-align:left;">protected</td><td style="text-align:left;">0x0004</td></tr><tr><td style="text-align:left;">static</td><td style="text-align:left;">0x0008</td></tr><tr><td style="text-align:left;">final</td><td style="text-align:left;">0x0010</td></tr><tr><td style="text-align:left;"><s>volatile</s></td><td style="text-align:left;"><s>0x0040</s></td></tr><tr><td style="text-align:left;"><s>transient</s></td><td style="text-align:left;"><s>0x0080</s></td></tr><tr><td style="text-align:left;">synchronized</td><td style="text-align:left;">0x0020</td></tr><tr><td style="text-align:left;">native</td><td style="text-align:left;">0x0100</td></tr><tr><td style="text-align:left;">abstract</td><td style="text-align:left;">0x0400</td></tr></tbody></table><p>int add(int a, int b);</p><p>入参与返回值的类型符号表示，与上面变量类型的符号表示完全一样，只不过多了一个 void 类型。</p><p>由于有多个参数类型，所以要定一个整体的格式，而整个描述符的格式为：</p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>符号表示</strong></th><th style="text-align:left;"><strong>类型</strong></th></tr></thead><tbody><tr><td style="text-align:left;">B</td><td style="text-align:left;">byte</td></tr><tr><td style="text-align:left;">C</td><td style="text-align:left;">char</td></tr><tr><td style="text-align:left;">D</td><td style="text-align:left;">double</td></tr><tr><td style="text-align:left;">F</td><td style="text-align:left;">float</td></tr><tr><td style="text-align:left;">I</td><td style="text-align:left;">int</td></tr><tr><td style="text-align:left;">J</td><td style="text-align:left;">long</td></tr><tr><td style="text-align:left;">S</td><td style="text-align:left;">short</td></tr><tr><td style="text-align:left;">Z</td><td style="text-align:left;">boolean</td></tr><tr><td style="text-align:left;">L_ClassName_ ;</td><td style="text-align:left;">类</td></tr><tr><td style="text-align:left;">[</td><td style="text-align:left;">数组</td></tr><tr><td style="text-align:left;">V</td><td style="text-align:left;">void</td></tr></tbody></table><p>( 参数1类型 参数2类型 ... ) 返回值类型</p><p>比如我们的</p><p>int add(int a, int b);</p><p>就表示为</p><p>(II)I</p><p>是不是非常精简了？同样，这也是个字符串，也可以存储在常量池里，就不再赘述。</p><p>（至于参数 a 和 b 这个名字，不需要保存起来，实际上在转换的字节码以及实际虚拟机中运行时，只需要知道局部变量表中的位置即可，叫什么名字都无所谓）</p><p><strong>方法名称</strong>，我们再熟悉不过了，放常量池！</p><p>ok，前三个说完了。最后一个，就有意思了。</p><p><img src="'+S+`" alt=""></p><p>代码、异常、注解等。可以看到，有相当多的信息需要记录。</p><p>比如我写这样的方法。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">RequestMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(String a) throws Exception {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> a;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>那就会有代码部分、异常、注解等需要录入的信息。</p><p>但似乎除了代码部分之外，其他部分都不是每个方法都有的，如果都定义出来，岂不是浪费空间，那怎么办呢？</p><p>我们效仿常量池的做法，把这些部分都叫“<strong>方法的属性</strong>”，一个方法可能有多个属性，设计结构如下。</p><p><img src="`+F+`" alt=""></p><p>这样，方法具有哪些属性，<strong>按需添加</strong>进来就好，如果不需要这个属性，也不用浪费空间，完美！</p><p>回过头看我们的这个方法。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> a, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> b) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>刚刚方法签名部分已经都解决了，只剩下代码</p><p>return a + b;</p><p>这个要怎样存放呢？</p><p>之前听老虚说过，JVM 识别的是一种叫<strong>字节码</strong>的东西，所以我要把 Java 语言写出的代码，转换为字节码。</p><p>这部分很复杂，就不展开说我的过程了，经过一番努力后，我把这一行简简单单的代码转换为了字节码。</p><p>1B 1C 60 AC</p><p>一共占四个字节。</p><p>我把这四个字节，就放在刚刚代码类型的属性中。</p><p><img src="`+T+'" alt=""></p><p>完美！</p><h1 id="_5-class" tabindex="-1">5. <strong>class</strong> <a class="header-anchor" href="#_5-class" aria-label="Permalink to “5. class”">​</a></h1>',44),I=g('<p>我把我转换为了这样的结构，并带着这个最终的设计稿，去找了老虚。</p><p>老虚：嗯！还真不赖！</p><p>小渣：那当然，我可是研究了好久呢。</p><p>老虚：不过，我再给你改改，在开头加些东西把。</p><p><img src="'+j+'" alt=""></p><p>小渣：老虚，你这加的是啥呀？</p><p>老虚：一看你就没经验。</p><p><strong>魔数</strong>一般用来识别这个文件的格式，通过文件名后缀的方式不靠谱，一般有格式的文件都会有个魔数的。</p><p>后面两个用来标识一下<strong>版本号</strong>，不同版本可能数据结构和支持的功能不一样，这个今后会有用的！</p><p>小渣：原来如此，还是你老虚见多识广。可是你说用来识别这个文件的格式，我这个文件是啥呀？</p><p>老虚：你这个玩意，就叫它 class 文件吧！</p><p><strong>FlashObject.class</strong></p><h1 id="_6-后记" tabindex="-1"><strong>6. 后记</strong> <a class="header-anchor" href="#_6-后记" aria-label="Permalink to “6. 后记”">​</a></h1>',13),R=g(`<p>根据 Java 虚拟机规范，Java Virtual Machine Specification Java SE 8 Edition，一个 class 文件的标准结构，是这样的。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ClassFile {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u4             magic;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             minor_version;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             major_version;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             constant_pool_count;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    cp_info        constant_pool[constant_pool_count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             access_flags;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             this_class;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             super_class;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             interfaces_count;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             interfaces[interfaces_count];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             fields_count;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    field_info     fields[fields_count];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             methods_count;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    method_info    methods[methods_count];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    u2             attributes_count;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    attribute_info attributes[attributes_count];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>我们的设计与它几乎相同。</p><p>只有后两项，我们没有涉及到，本身也不是重点。</p><p>常量池中的类型，有以下几种。</p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>Constant Type</strong></th><th style="text-align:left;"><strong>Value</strong></th></tr></thead><tbody><tr><td style="text-align:left;">CONSTANT_Class</td><td style="text-align:left;">7</td></tr><tr><td style="text-align:left;">CONSTANT_Fieldref</td><td style="text-align:left;">9</td></tr><tr><td style="text-align:left;">CONSTANT_Methodref</td><td style="text-align:left;">10</td></tr><tr><td style="text-align:left;">CONSTANT_InterfaceMethodref</td><td style="text-align:left;">11</td></tr><tr><td style="text-align:left;">CONSTANT_String</td><td style="text-align:left;">8</td></tr><tr><td style="text-align:left;">CONSTANT_Integer</td><td style="text-align:left;">3</td></tr><tr><td style="text-align:left;">CONSTANT_Float</td><td style="text-align:left;">4</td></tr><tr><td style="text-align:left;">CONSTANT_Long</td><td style="text-align:left;">5</td></tr><tr><td style="text-align:left;">CONSTANT_Double</td><td style="text-align:left;">6</td></tr><tr><td style="text-align:left;">CONSTANT_NameAndType</td><td style="text-align:left;">12</td></tr><tr><td style="text-align:left;">CONSTANT_Utf8</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">CONSTANT_MethodHandle</td><td style="text-align:left;">15</td></tr><tr><td style="text-align:left;">CONSTANT_MethodType</td><td style="text-align:left;">16</td></tr><tr><td style="text-align:left;">CONSTANT_InvokeDynamic</td><td style="text-align:left;">18</td></tr></tbody></table><p>如果想了解 class 文件的全部细节，最好的办法就是<strong>阅读官方文档</strong>，也就是 Java 虚拟机规范的第四部分。</p><p><strong>Chapter 4. The class File Format</strong></p><p>这里的链接可以直接定位：</p><p><a href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3.2" target="_blank" rel="noreferrer">https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3.2</a></p><p>不要觉得官方文档晦涩难懂，这个部分还是非常清晰明了的，大多数博客基本上对格式的讲解都缺斤少两，而且说得也不形象，还不如直接阅读官方文档呢。</p><p>还有一个好的方式，就是直接观察 class 文件的二进制结构解析，这里推荐一个工具</p><p><strong>classpy</strong></p><p>用这个工具打开一个 class 文件，是这个样子。</p><p><img src="`+P+'" alt=""></p><p>左边解析好的树型结构，可以直接和右边的 class 文件的二进制内容相对应，非常好用。</p><p>最后，希望大家找时间用这个工具分析一个复杂的 class 文件，会很有帮助的。祝大家学会 class 文件。</p>',17);function z(t,L,U,H,W,Z){const l=o,n=c("ClientOnly");return i(),f("div",null,[V,p(n,null,{default:r(()=>{var s,a;return[(((s=t.$frontmatter)==null?void 0:s.aside)??!0)&&(((a=t.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(i(),d(l,{key:0,article:t.$frontmatter},null,8,["article"])):h("",!0)]}),_:1}),E,B,_,K,J,p(n,null,{default:r(()=>{var s,a;return[(((s=t.$frontmatter)==null?void 0:s.aside)??!0)&&(((a=t.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(i(),d(l,{key:0,article:t.$frontmatter},null,8,["article"])):h("",!0)]}),_:1}),X,p(n,null,{default:r(()=>{var s,a;return[(((s=t.$frontmatter)==null?void 0:s.aside)??!0)&&(((a=t.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(i(),d(l,{key:0,article:t.$frontmatter},null,8,["article"])):h("",!0)]}),_:1}),N,p(n,null,{default:r(()=>{var s,a;return[(((s=t.$frontmatter)==null?void 0:s.aside)??!0)&&(((a=t.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(i(),d(l,{key:0,article:t.$frontmatter},null,8,["article"])):h("",!0)]}),_:1}),q,p(n,null,{default:r(()=>{var s,a;return[(((s=t.$frontmatter)==null?void 0:s.aside)??!0)&&(((a=t.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(i(),d(l,{key:0,article:t.$frontmatter},null,8,["article"])):h("",!0)]}),_:1}),I,p(n,null,{default:r(()=>{var s,a;return[(((s=t.$frontmatter)==null?void 0:s.aside)??!0)&&(((a=t.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(i(),d(l,{key:0,article:t.$frontmatter},null,8,["article"])):h("",!0)]}),_:1}),R])}const Q=y(O,[["render",z]]);export{G as __pageData,Q as default};
