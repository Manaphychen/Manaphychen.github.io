import{_ as u}from"./chunks/ArticleMetadata.BPSr9oED.js";import{_ as E,E as l,c as b,o as e,j as i,I as a,aj as k,a as s,w as n,b as A,e as o}from"./chunks/framework._AF764y6.js";const f="/assets/1656053431094-d8401156-41fe-45a2-b2da-47e7cb4eb5fe.DY1dVB8Q.png",X=JSON.parse('{"title":"Maven","description":"","frontmatter":{"title":"Maven","date":"2023-10-26T20:24:39.000Z","permalink":"/maven/","categories":["运维"],"tags":["maven"],"author":"Manaphy"},"headers":[],"relativePath":"ops/其他/10.Maven.md","filePath":"ops/其他/10.Maven.md","lastUpdated":1743259133000}'),x={name:"ops/其他/10.Maven.md"},_=i("h1",{id:"maven的使用",tabindex:"-1"},[s("Maven的使用 "),i("a",{class:"header-anchor",href:"#maven的使用","aria-label":"Permalink to “Maven的使用”"},"​")],-1),M=k(`<h2 id="_1-maven-setting-xml的设置" tabindex="-1">1. Maven setting.xml的设置 <a class="header-anchor" href="#_1-maven-setting-xml的设置" aria-label="Permalink to “1. Maven setting.xml的设置”">​</a></h2><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;1.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">?&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">settings</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">          xmlns:xsi</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">          xsi:schemaLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- localRepository</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   | 将默认的仓库位置改为想要设置的位置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">   | Default: \${user.home}/.m2/repository--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">localRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;D:\\maven\\repository&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">localRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- 插件组合 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">pluginGroups</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">pluginGroups</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- 代理 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">proxies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">proxies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- servers服务器(其中username和password是私服的用户名和密码,后续配置私服说明) --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">servers</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    &lt;!-- </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    &lt;server&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">      &lt;id&gt;deploymentRepo&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">      &lt;username&gt;repouser&lt;/username&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">      &lt;password&gt;repopwd&lt;/password&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    &lt;/server&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">servers</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- mirrors镜像 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">mirrors</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- 阿里镜像 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">mirror</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;alimaven&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;阿里云公共仓库&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;https://maven.aliyun.com/repository/public&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">mirrorOf</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;*&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">mirrorOf</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">mirror</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">mirrors</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- rofiles:服务器配置 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">      &lt;!-- java编译插件,配jdk的编译版本--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">profile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;jdk-1.8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">activation</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">			&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">activeByDefault</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;true&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">activeByDefault</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">			&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">jdk</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;1.8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">jdk</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">activation</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">			&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">maven.compiler.source</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;1.8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">maven.compiler.source</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">			&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">maven.compiler.target</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;1.8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">maven.compiler.target</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">			&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">maven.compiler.compilerVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;1.8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">maven.compiler.compilerVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">profile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;!-- activeProfiles:激活私服</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;activeProfiles&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  &lt;/activeProfiles&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">settings</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><p>仓库地址</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 默认仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">http://repo1.maven.org/maven2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 阿里云</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://maven.aliyun.com/mvn/guide</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 网易</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://mirrors.163.com/.help/maven.html</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 腾讯云</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://mirrors.cloud.tencent.com/help/maven.html</span></span></code></pre></div><h2 id="_2-maven仓库说明" tabindex="-1">2. Maven仓库说明 <a class="header-anchor" href="#_2-maven仓库说明" aria-label="Permalink to “2. Maven仓库说明”">​</a></h2><ol><li>本地仓库:储存在本地磁盘,位置由自己设置</li><li>远程仓库:一般使用国内镜像或公司自己搭建私服 目的是为了加快下载速度</li><li>Maven(中央)仓库:Maven团队维护的jar包仓库</li></ol><p>检索顺序:先检索本地仓库一-再检索远程仓库--最后检索中央仓库</p><h2 id="_3-maven项目说明" tabindex="-1">3. Maven项目说明 <a class="header-anchor" href="#_3-maven项目说明" aria-label="Permalink to “3. Maven项目说明”">​</a></h2><p>src/main/java:存放项目的.java文件</p><p>src/main/resources:存放项目资源文件</p><p>src/test/java:测试资源文件</p><p>src/test/resources:测试资源文件</p><p>target:项目输出位置(可以自动生成)</p><p>pom.xml(maven项目核心配置文件)</p><p>pom文件配置说明</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;1.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">?&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">project</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://maven.apache.org/POM/4.0.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;"> xmlns:xsi</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#6CB6FF;">         xsi:schemaLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;4.0.0&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;com.cgp.test&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;mvn-test&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;1.0-SNAPSHOT&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;war&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    &lt;!-- 打包方式:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">       war是web项目的打包方式</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">      jar是jar项目的打包方式</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        &lt;!--使用根路径--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">rootpom.basedir</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;\${basedir}/../..&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">rootpom.basedir</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        &lt;!-- dependency 依赖范围 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        &lt;!-- scope:声明jar包的存活时间</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                1.provided:编译和测试时需要</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                2.compile:编译、测试、运行、打包需要</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                3.runtime:运行、打包需要,编译、测试时无效</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                4.test:仅在测试时有效</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                5.system:编译和测试时需要,等同于,显示引用,Maven不会检索</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        &lt;!-- 生命周期 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            validate - 验证项目是否正确，并提供所有必要信息</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            compile - 编译项目的源代码</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            test - 使用合适的单元测试框架测试编译的源代码。这些测试不应要求打包或部署代码</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            package - 获取已编译的代码并将其打包为可分发的格式，例如JAR。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            verify - 对集成测试结果进行任何检查，以确保满足质量标准</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            install - 将软件包安装到本地存储库中，以便在本地用作其他项目的依赖项</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            deploy - 在构建环境中完成，将最终包复制到远程存储库以与其他开发人员和项目共享。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            Integration test : 集成测试 , 运行项目的集成测试</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.projectlombok&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;lombok&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;1.18.24&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;provided&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                可选依赖</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                - A-&gt;B-&gt;C(可选)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">                - A依赖B,B依赖于C,当C为可选依赖的时候,并不能传递到A</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">            --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">optional</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;true&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">optional</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><h2 id="_4-maven依赖传递" tabindex="-1">4. Maven依赖传递 <a class="header-anchor" href="#_4-maven依赖传递" aria-label="Permalink to “4. Maven依赖传递”">​</a></h2><p>依赖一个jar包往往会下载相互关联的jar包这就是依赖传递.</p><p>依赖传递岀现的问题:经常岀现jar包冲突,解决方案是直接排除指定的jar包</p><p>解决jar包冲突的4种方式</p><ol><li>排除原则,一般排除低版本</li></ol><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;com.fasterxml.jackson.core&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;jackson-databind&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;2.9.8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    &lt;!--排除依赖--&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    &lt;!--&lt;exclusions&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">      &lt;exclusion&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">      &lt;/exclusion&gt;--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><ol start="2"><li>版本号限定原则</li></ol><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">&lt;!-- 1.标记版本号 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">&lt;!--把所有的版本号都定义在这里--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">spring.version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;4.3.8.RELEASE&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">spring.version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">&lt;!-- 2.锁定版本 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.springframework&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;spring-context&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;\${spring.version}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.springframework&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;spring-web&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;\${spring.version}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><ol start="3"><li>第一生命原则(基本不用)</li><li>路径就近原则(基本不用)</li></ol><h2 id="_5-maven-依赖传递中的依赖范围" tabindex="-1">5. maven 依赖传递中的依赖范围 <a class="header-anchor" href="#_5-maven-依赖传递中的依赖范围" aria-label="Permalink to “5. maven 依赖传递中的依赖范围”">​</a></h2>`,26),j=i("li",null,[i("strong",null,[s("compile "),i("strong",null,"是"),s("默认值")]),s("，当我们引入依赖时，如果标签没有指定，那么"),i("strong",null,"默认"),s("就是complie。 compile表示被依赖项目需要参与当前项目的编译，包括后续的测试，运行周期也参与其中，同时打包的时候也会包含进去。是最常用的，所以也是默认的。")],-1),w=i("li",null,"**runtime **表示被依赖项目无需参与项目的编译，不过后期的测试和运行周期需要其参与。与compile相比，跳过编译而已。 数据库的驱动包一般都是runtime，因为在我们在编码时只会使用JDK提供的jdbc接口，而具体的实现是有对应的厂商提供的驱动(如mysql驱动)，实在运行时生效的，所以这类jar包无需参与项目的编译。",-1),I=i("li",null,'**test **表示只会在测试阶段使用，在src/main/java里面的代码是无法使用这些api的，并且项目打包时，也不会将"test"标记的打入"jar"包或者"war"包。',-1),P=k(`<div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;spring-boot-maven-plugin&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">     &lt;!--设置为true，以便把本地的system的jar也包括进来--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">includeSystemScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;true&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">includeSystemScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><ul><li>**provided **表示的是在编译和测试的时候有效，在执行（mvn package）进行打包成war、jar包的时候不会加入，比如：servlet-api，因为servlet-api，tomcat等web服务器中已经存在，如果在打包进去，那么包之间就会冲突</li><li>**import **比较特殊，他的作用是将其他模块定义好的 dependencyManagement 导入当前 Maven 项目 pom 的 dependencyManagement 中，都是配合<code>&lt;type&gt;pom&lt;/type&gt;</code>来进行的。所以import作用的是pom类型，不是jar包。</li></ul><h2 id="_6-maven常用命令" tabindex="-1">6. maven常用命令 <a class="header-anchor" href="#_6-maven常用命令" aria-label="Permalink to “6. maven常用命令”">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 打包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clean</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.test.skip=true</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.javadoc.skip=true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 修改版本号 : versions:set -DnewVersion=5.0.0.1 clean install -f pom.xml -DskipTests       </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 跳过 JavaDoc </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clean</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.javadoc.skip=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 跳过 CheckStyle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [target] -Dcheckstyle.skip</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># --&gt; 跳过 license : mvn clean install -DskipTests license:format</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># mvn clean install -Dmaven.test.skip=true -Dmaven.javadoc.skip=true -Dcheckstyle.skip -DskipTests=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.test.skip=true</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.javadoc.skip=true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -X</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.test.skip=true</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.javadoc.skip=true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> assembly:assembly</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 打包打入指定文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -uvf0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test-server-5.2.0.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> BOOT-INF/lib/test-provisioning-java-2.1.2.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 其他生命周期相关命令</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clean</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 清空新的项目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> compile</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 编译源代码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test-compile</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 编译集成测试</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> package</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 构建项目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 打包项目并且部署到本地资源库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install:install-file</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dfile=algs4.jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install:install-file</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dfile=algs4.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DgroupId=lib.algs4</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DartifactId=algs4</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dversion=4.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dpackaging=jar　　</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 打包并且上传到私服</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> deploy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> clean</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> deploy</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.test.skip=true</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.javadoc.skip=true</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dcheckstyle.skip</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DskipTests=true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 本地加入jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install:install-file</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">-DgroupId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">包名</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">-DartifactId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">项目名</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">-Dversion</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">版本号</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">-Dpackaging</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">jar</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">-Dfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">jar文件所在路径</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 下载源码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:sources</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 下载注释 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:resolve</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dclassifier=javadoc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 部署到Tomcat </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> tomcat:redeploy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 跳过测试阶段</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> package</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DskipTests</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 临时性跳过测试代码的编译</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> package</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dmaven.test.skip=true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 指定测试类</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dtest=RandomGeneratorTest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 以Random开头，Test结尾的测试类</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dtest=Random</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 用逗号分隔指定多个测试用例 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dtest=ATest,BTest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 运行 checkstyle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> checkstyle:checkstyle</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 打包本地</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install:install-file</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dfile=xxx.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DgroupId=aaa</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DartifactId=bbb</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dversion=1.0.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dpackaging=jar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 查看依赖树</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:tree</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:tre</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">tree.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 查看已解析依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 分析依赖关系</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:analyze</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 更新版本 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> versions:set</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DnewVersion=1.0.1-SNAPSHOT</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 离线模式 (maven-dependency-plugin)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:go-offline</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> verify</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 清空缓存</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 定位缓存的位置</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> help:evaluate</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dexpression=settings.localRepository</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -q</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DforceStdout</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 方法一</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 直接手动删除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 方法二</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 通过插件删除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:purge-local-repository</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:purge-local-repository</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DactTransitively=false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 只清空缓存 , 不进行预下载和重新解析</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> dependency:purge-local-repository</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DactTransitively=false</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -DreResolve=false</span></span></code></pre></div><h2 id="_7-maven-命令参数介绍" tabindex="-1">7. maven 命令参数介绍 <a class="header-anchor" href="#_7-maven-命令参数介绍" aria-label="Permalink to “7. maven 命令参数介绍”">​</a></h2><p>mvn命令格式：mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]    其中：-U 和 [options] 和 [goals] 位置没有关系</p><table tabindex="0"><thead><tr><th style="text-align:left;">命令</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;">mvn -v</td><td>--version 显示版本信息;</td></tr><tr><td style="text-align:left;">mvn -V</td><td>--show-version 显示版本信息后继续执行Maven其他目标;</td></tr><tr><td style="text-align:left;">mvn -h</td><td>--help 显示帮助信息;</td></tr><tr><td style="text-align:left;">mvn -e</td><td>--errors 控制Maven的日志级别,产生执行错误相关消息;</td></tr><tr><td style="text-align:left;">mvn -X</td><td>--debug 控制Maven的日志级别,产生执行调试信息;</td></tr><tr><td style="text-align:left;">mvn -q</td><td>--quiet 控制Maven的日志级别,仅仅显示错误;</td></tr><tr><td style="text-align:left;">mvn -Pxxx</td><td>激活 id 为 xxx的profile (如有多个，用逗号隔开);</td></tr><tr><td style="text-align:left;">mvn -Dxxx=yyy</td><td>指定Java全局属性;</td></tr><tr><td style="text-align:left;">mvn -o</td><td>--offline 运行offline模式,不联网更新依赖;</td></tr><tr><td style="text-align:left;">mvn -N</td><td>--non-recursive 仅在当前<a href="http://www.07net01.com/tags-%E9%A1%B9%E7%9B%AE-0.html" target="_blank" rel="noreferrer">项目</a><br>模块执行命令,不构建子模块;</td></tr><tr><td style="text-align:left;">mvn -pl</td><td>--module_name 在指定模块上执行命令;</td></tr><tr><td style="text-align:left;">mvn -ff</td><td>--fail-fast 遇到构建失败就直接退出;</td></tr><tr><td style="text-align:left;">mvn -fn</td><td>--fail-never 无论项目结果如何,构建从不失败;</td></tr><tr><td style="text-align:left;">mvn -fae</td><td>--fail-at-end 仅影响构建结果,允许不受影响的构建继续;</td></tr><tr><td style="text-align:left;">mvn -C</td><td>--strict-checksums 如果校验码不匹配的话,构建失败;</td></tr><tr><td style="text-align:left;">mvn -c</td><td>--lax-checksums 如果校验码不匹配的话,产生告警;</td></tr><tr><td style="text-align:left;">mvn -U</td><td>强制更新snapshot类型的插件或依赖库(否则maven一天只会更新一次snapshot依赖);</td></tr><tr><td style="text-align:left;">mvn -npu</td><td>--no-plugin-s 对任何相关的注册插件,不进行最新检查(使用该选项使Maven表现出稳定行为，该稳定行为基于本地仓库当前可用的所有插件版本);</td></tr><tr><td style="text-align:left;">mvn -cpu</td><td>--check-plugin-updates 对任何相关的注册插件,强制进行最新检查(即使项目POM里明确规定了Maven插件版本,还是会强制更新);</td></tr><tr><td style="text-align:left;">mvn -up</td><td>--update-plugins [mvn -cpu]的同义词;</td></tr><tr><td style="text-align:left;">mvn -B</td><td>--batch-mode 在非交互（批处理）模式下运行(该模式下,当Mven需要输入时,它不会停下来接受用户的输入,而是使用合理的默认值);</td></tr><tr><td style="text-align:left;">mvn -f</td><td>--file &lt;file&gt; 强制使用备用的POM文件;</td></tr><tr><td style="text-align:left;">mvn -s</td><td>--settings &lt;arg&gt; 用户配置文件的备用路径;</td></tr><tr><td style="text-align:left;">mvn -gs</td><td>--global-settings &lt;file&gt; 全局配置文件的备用路径;</td></tr><tr><td style="text-align:left;">mvn -emp</td><td>--encrypt-master-password &lt;password&gt; 加密主安全密码,存储到Maven settings文件里;</td></tr><tr><td style="text-align:left;">mvn -ep</td><td>--encrypt-password &lt;password&gt; 加密服务器密码,存储到Maven settings文件里;</td></tr><tr><td style="text-align:left;">mvn -npr</td><td>--no-plugin-registry 对插件版本不使用~/.m2/plugin-registry.xml(插件注册表)里的配置;</td></tr></tbody></table><h2 id="_8-mvnd" tabindex="-1">8.mvnd <a class="header-anchor" href="#_8-mvnd" aria-label="Permalink to “8.mvnd”">​</a></h2><blockquote><p>mvnd 是一种用于加速 Maven 构建的工具，它全称是 Maven Daemon。它通过减少 JVM 启动时间和在后台运行 Maven 进程来提高构建效率。mvnd 基本上是 Maven 和 Gradle Daemon 概念的结合，旨在优化 Maven 构建性能，尤其是在大型项目或频繁构建时。</p><p><strong>主要特点：</strong></p><ol><li><strong>构建加速</strong>：mvnd 会在后台守护进程中运行，并且在每次构建时不必重新启动 JVM，大大减少了启动时间。</li><li><strong>多线程支持</strong>：支持并行执行构建任务，利用多核 CPU 来加快构建速度。</li><li><strong>缓存和复用</strong>：可以缓存部分构建数据，以便在后续构建中复用，进一步提升构建效率。</li><li><strong>与原生 Maven 兼容</strong>：mvnd 完全兼容现有的 Maven 项目和插件，你不需要修改项目的 POM 文件即可使用。</li></ol></blockquote><h3 id="下载及安装" tabindex="-1">下载及安装 <a class="header-anchor" href="#下载及安装" aria-label="Permalink to “下载及安装”">​</a></h3><p>下载地址 <a href="https://downloads.apache.org/maven/mvnd/" target="_blank" rel="noreferrer">https://downloads.apache.org/maven/mvnd/</a></p><p>选择对应的平台下载,并解压至自定文件夹下</p><p>将 conf 目录下的<code>mvnd.properties</code>文件复制到 maven 对应的<code>.m2</code>目录下</p><p>打开该文件，配置如下</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># MVND_HOME</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># The daemon installation directory. The client normally sets this according to where its mvnd executable is located</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">mvnd.home</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=\${MVND_HOME}/bin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># JAVA_HOME</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Java home for starting the daemon. The client normally sets this as environment variable: JAVA_HOME</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">java.home</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=\${JAVA_HOME}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Maven的配置文件位置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># The location of the maven settings file. The client normally uses default settings in {@code ~/.m2/settings.xml}.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">maven.settings</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">=~/.m2/settings.xml</span></span></code></pre></div><h3 id="配置环境变量" tabindex="-1">配置环境变量 <a class="header-anchor" href="#配置环境变量" aria-label="Permalink to “配置环境变量”">​</a></h3><p><strong>Windows 端配置方式:</strong></p><p>类似 Java ，在 path 中配置相应路径</p><p><strong>Mac 端及 Linux 端:</strong></p><p>类似于 Java 环境在 Linux 中的配置</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> M2_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">/Users/manaphy/opt/apache-maven-3.9.1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> MVND_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">/Users/manaphy/opt/mvnd-1.0-m7</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> JAVA_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">/Users/manaphy/Library/Java/JavaVirtualMachines/azul-17.0.9/Contents/Home</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">\${PATH}:\${MAVEN_HOME}/bin:\${MVND_HOME}/bin:\${JAVA_HOME}/bin</span></span></code></pre></div><p>配置完 <code>source 对应的文件</code>使配置生效</p><p><strong>测试是否配置完成</strong></p><p>在终端中输入 <code>mvnd -v</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">manaphy@ManaphydeMacBook-Pro</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> ~</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> %</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> mvnd</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Apache</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Maven</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Daemon</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (mvnd) 1.0-m7 darwin-aarch64 native client (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">b2ef5d81997adbcdb72dc8c5603722538fa641fe</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Terminal:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> org.jline.terminal.impl.PosixSysTerminal</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> pty</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> org.jline.terminal.impl.jansi.osx.OsXNativePty</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Apache</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Maven</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 3.9.3</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (21122926829f1ead511c958d89bd2f672198ae9f)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Maven</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> home:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /Users/manaphy/opt/mvnd-1.0-m7/mvn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Java</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> version:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 17.0.9,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> vendor:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Azul</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Systems,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Inc.,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> runtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> /Users/manaphy/Library/Java/JavaVirtualMachines/azul-17.0.9/Contents/Home</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Default</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> locale:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> zh_CN_#Hans,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> platform</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> encoding:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> UTF-8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">OS</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> name:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;mac os x&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> version:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;14.1&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> arch:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;aarch64&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> family:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;mac&quot;</span></span></code></pre></div><h3 id="配置环境变量-1" tabindex="-1">配置环境变量 <a class="header-anchor" href="#配置环境变量-1" aria-label="Permalink to “配置环境变量”">​</a></h3><p>在 idea 中打开运行/调试配置，配置如下图所示</p><p><img src="`+f+`" alt="image.png"></p><h2 id="_9-其他" tabindex="-1">9. 其他 <a class="header-anchor" href="#_9-其他" aria-label="Permalink to “9. 其他”">​</a></h2><h3 id="_9-1-maven打包本地依赖" tabindex="-1">9.1 Maven打包本地依赖 <a class="header-anchor" href="#_9-1-maven打包本地依赖" aria-label="Permalink to “9.1 Maven打包本地依赖”">​</a></h3><p>需要在文件目录下执行该命令</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install:install-file</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  -Dfile=alipay-trade-sdk-20161215.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  -DgroupId=com.alipay</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  -DartifactId=alipay-sdk-java</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  -Dversion=20161215</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -Dpackaging=jar</span></span></code></pre></div><h3 id="_9-2-springboot打成jar包引入本地jar包" tabindex="-1">9.2 SpringBoot打成jar包引入本地jar包 <a class="header-anchor" href="#_9-2-springboot打成jar包引入本地jar包" aria-label="Permalink to “9.2 SpringBoot打成jar包引入本地jar包”">​</a></h3><ol><li>在项目的<code>resource</code>目录下新建<code>lib</code>文件夹,将本地jar包放入其中</li><li>pom文件引入依赖方式修改</li></ol><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;com.alipay&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;alipay-trade-sdk&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;20161215&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;system&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">systemPath</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;\${project.basedir}/src/main/resources/lib/alipay-trade-sdk-20161215.jar&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">systemPath</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><ol start="3"><li>在build节点中的builds添加build</li></ol><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;spring-boot-maven-plugin&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">includeSystemScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;true&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">includeSystemScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><h3 id="_9-3-maven-dependency全局排除" tabindex="-1">9.3 Maven dependency全局排除 <a class="header-anchor" href="#_9-3-maven-dependency全局排除" aria-label="Permalink to “9.3 Maven dependency全局排除”">​</a></h3><p><strong>方式一</strong></p><p>案例: 把springboot项目的日志实现改为log4j2</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">&lt;!-- 全局排除spring-boot-starter-logging的依赖 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;spring-boot-starter-logging&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclusions</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclusion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;*&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;*&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclusion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclusions</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;spring-boot-starter-log4j2&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><p><strong>方式二</strong></p><p>使用 <a href="http://maven.apache.org/plugins/maven-enforcer-plugin/" target="_blank" rel="noreferrer">maven-enforcer-plugin</a> 加排除黑名单</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.apache.maven.plugins&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;maven-enforcer-plugin&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">executions</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">execution</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;enforce-versions&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goals</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goal</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;enforce&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goal</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goals</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">rules</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">requireMavenVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">              &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;2.1.0&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">requireMavenVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">requireJavaVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">              &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;1.6&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">requireJavaVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">rules</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">execution</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">execution</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;enforce-banned-dependencies&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goals</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goal</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;enforce&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goal</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">goals</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">rules</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">bannedDependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">              &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">excludes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;junit:junit&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;org.testng:testng&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;                              </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;com.google.collections:google-collections&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;commons-logging:commons-logging&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">              &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">excludes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">              &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;junit:junit:4.8.2:jar:test&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;cglib:cglib-nodep:jar:2.2&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">              &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">bannedDependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">rules</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">fail</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;true&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">fail</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">execution</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">executions</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;</span></span></code></pre></div><h1 id="maven私有仓库搭建及使用" tabindex="-1">Maven私有仓库搭建及使用 <a class="header-anchor" href="#maven私有仓库搭建及使用" aria-label="Permalink to “Maven私有仓库搭建及使用”">​</a></h1>`,45),S=k(`<h2 id="使用docker-compose安装nexus" tabindex="-1">使用Docker-compose安装Nexus <a class="header-anchor" href="#使用docker-compose安装nexus" aria-label="Permalink to “使用Docker-compose安装Nexus”">​</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  nexus</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">sonatype/nexus3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">nexus</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;8081:8081&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">./nexus-data:/nexus-data3</span></span></code></pre></div><p>使用<code>docker-compose up -d</code>启动</p><p>查看密码文件</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> nexus-data/admin.password</span></span></code></pre></div><h2 id="登录nexus进行配置" tabindex="-1">登录Nexus进行配置 <a class="header-anchor" href="#登录nexus进行配置" aria-label="Permalink to “登录Nexus进行配置”">​</a></h2><h3 id="_1、登录nexus" tabindex="-1">1、登录nexus <a class="header-anchor" href="#_1、登录nexus" aria-label="Permalink to “1、登录nexus”">​</a></h3><p>访问 <a href="http://192.168.2.132:8081" target="_blank" rel="noreferrer">http://192.168.2.132:8081</a> 进入登录界面 使用默认管理员身份登录，帐号：admin，密码：上一步得到的密码</p><h3 id="_2、进入管理界面" tabindex="-1">2、进入管理界面 <a class="header-anchor" href="#_2、进入管理界面" aria-label="Permalink to “2、进入管理界面”">​</a></h3><img src="https://www.pnglog.com/WOuyKM.png"><ul><li>Browse可以查看当前有多少仓库，搭建好的Nexus，默认会带有一些maven仓库，一般使用这些仓库就足够了。</li><li>默认仓库说明 <ul><li>maven-central：maven中央库，默认从<a href="https://repo1.maven.org/maven2/" target="_blank" rel="noreferrer">https://repo1.maven.org/maven2/</a>拉取jar</li><li>maven-releases：私库发行版jar，初次安装请将Deployment policy设置为Allow redeploy</li><li>maven-snapshots：私库快照（调试版本）jar</li><li>maven-public：仓库分组，把上面三个仓库组合在一起对外提供服务，在本地maven基础配置settings.xml或项目pom.xml中使用</li></ul></li><li>仓库类型 <ul><li>Group：这是一个仓库聚合的概念，用户仓库地址选择Group的地址，即可访问Group中配置的，用于方便开发人员自己设定的仓库。maven-public就是一个Group类型的仓库，内部设置了多个仓库，访问顺序取决于配置顺序，3.x默认Releases，Snapshots，Central，当然你也可以自己设置。</li><li>Hosted：私有仓库，内部项目的发布仓库，专门用来存储我们自己生成的jar文件</li><li>Snapshots：本地项目的快照仓库</li><li>Releases： 本地项目发布的正式版本</li><li>Proxy：代理类型，从远程中央仓库中寻找数据的仓库（可以点击对应的仓库的Configuration页签下Remote Storage属性的值即被代理的远程仓库的路径），如可配置阿里云maven仓库</li><li>Central：中央仓库</li></ul></li></ul><h3 id="_3、增加新的代理源" tabindex="-1">3、增加新的代理源 <a class="header-anchor" href="#_3、增加新的代理源" aria-label="Permalink to “3、增加新的代理源”">​</a></h3><ol><li>按照步骤添加新的代理源</li></ol><img src="https://www.pnglog.com/4CS7od.png"><ol start="2"><li>选择添加maven2的代理</li></ol><img src="https://www.pnglog.com/qTiQc6.png"><ol start="3"><li>添加代理 (名称和地址在下一步;Cache统一设置为200天 288000 )</li></ol><img src="https://www.pnglog.com/PdaF2R.png"><img src="https://www.pnglog.com/pvv80v.png"><ol start="4"><li>逐个增加常用代理</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> aliyun</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">http://maven.aliyun.com/nexus/content/groups/public</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">2.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apache_snapshot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://repository.apache.org/content/repositories/snapshots/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">3.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apache_release</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://repository.apache.org/content/repositories/releases/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">4.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> atlassian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://maven.atlassian.com/content/repositories/atlassian-public/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">5.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> central.maven.org</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">http://central.maven.org/maven2/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">6.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> datanucleus</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">http://www.datanucleus.org/downloads/maven2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">7.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> maven-central</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> （安装后自带，仅需设置Cache有效期即可）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://repo1.maven.org/maven2/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">8.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> nexus.axiomalaska.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">http://nexus.axiomalaska.com/nexus/content/repositories/public</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">9.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> oss.sonatype.org</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://oss.sonatype.org/content/repositories/snapshots</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">10.pentaho</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">https://public.nexus.pentaho.org/content/groups/omni/</span></span></code></pre></div><ol start="5"><li>设置maven-public 将这些代理加入Group，最好将默认的maven库放到最底下，下载顺序是从上到下依次查找，所以把下载最快的放到最上面</li></ol><img src="https://www.pnglog.com/FxEE3r.png"><ol start="6"><li>设置私用仓库可重复发布</li></ol><p>Nexus安装后自带maven-releases，maven-snapshots两个仓库，用于将生成的jar包发布在这两个仓库中，在实际开发中需要将maven-releases设置为可以重复发布</p><img src="https://www.pnglog.com/uEFHu4.png">`,26),T=i("pre",null,[i("code",null,`<!-- 插件组 -->
<pluginGroups/>

<!-- 代理 -->
<proxies/>

<!-- servers服务器(其中username和password是私服的用户名和密码) -->
<servers>
    <server>
        <id>maven-releases</id>
        <username>admin</username>
        <password>admin111</password>
    </server>

    <server>
        <id>maven-snapshots</id>
        <username>admin</username>
        <password>admin111</password>
    </server>
</servers>

<!-- 镜像
 | 这是从远程存储库下载依赖时使用的镜像列表。
 |-->
<mirrors>
    <!--<mirror>
        <id>alimaven</id>
        <mirrorOf>central</mirrorOf>
        <name>aliyun maven</name>
        <url>http://maven.aliyun.com/nexus/content/groups/public/</url>
    </mirror>-->
    <mirror>
        <id>ManaphyMirror</id>
        <mirrorOf>*</mirrorOf>
        <name>Manaphy Repository Mirror.</name>
        <url>http://192.168.2.132:8081/repository/maven-public/</url>
    </mirror>
</mirrors>

<!-- 服务器配置 -->
<profiles>
    <!-- java编译插件,配jdk的编译版本-->
    <profile>
        <id>jdk-1.8</id>
        <activation>
            <activeByDefault>true</activeByDefault>
            <jdk>1.8</jdk>
        </activation>
        <properties>
            <maven.compiler.source>1.8</maven.compiler.source>
            <maven.compiler.target>1.8</maven.compiler.target>
            <maven.compiler.compilerVersion>1.8</maven.compiler.compilerVersion>
        </properties>
    </profile>
    <!-- 自定义私服的配置 -->
    <profile>
        <id>Manaphy</id>
        <repositories>
            <repository>
                <id>nexus</id>
                <name>Public Repositories</name>
                <url>http://192.168.2.132:8081/repository/maven-public/</url>
                <releases>
                    <enabled>true</enabled>
                </releases>
            </repository>
            <repository>
                <id>maven-central</id>
                <name>Central Repositories</name>
                <url>http://192.168.2.132:8082/repository/maven-central/</url>
                <releases>
                    <enabled>true</enabled>
                </releases>
                <snapshots>
                    <enabled>false</enabled>
                </snapshots>
            </repository>
            <repository>
                <id>maven-releases</id>
                <name>Release Repositories</name>
                <url>http://192.168.2.132:8081/repository/maven-releases/</url>
                <releases>
                    <enabled>true</enabled>
                </releases>
                <snapshots>
                    <enabled>false</enabled>
                </snapshots>
            </repository>
            <repository>
                <id>maven-snapshots</id>
                <name>Snapshot Repositories</name>
                <url>http://192.168.2.132:8081/repository/maven-snapshots/</url>
                <releases>
                    <enabled>true</enabled>
                </releases>
                <snapshots>
                    <enabled>true</enabled>
                </snapshots>
            </repository>
        </repositories>

        <pluginRepositories>
            <pluginRepository>
                <id>plugins</id>
                <name>Plugin Repositories</name>
                <url>http://192.168.2.132:8081/repository/maven-public/</url>
            </pluginRepository>
        </pluginRepositories>
    </profile>
</profiles>

<!-- 激活Profiles
 | 为所有生成激活的配置文件的列表。
 |-->
<activeProfiles>
    <activeProfile>jdk-1.8</activeProfile>
    <activeProfile>Manaphy</activeProfile>
</activeProfiles>
`)],-1),q=i("img",{src:"https://www.pnglog.com/DUDSSj.png"},null,-1),V=i("p",null,"注意以下几点：",-1),R=i("ul",null,[i("li",null,"若项目版本号末尾带有 -SNAPSHOT，则会发布到snapshots快照版本仓库"),i("li",null,"若项目版本号末尾带有 -RELEASES 或什么都不带，则会发布到releases正式版本仓库")],-1);function N(t,O,J,H,$,G){const r=u,d=l("ClientOnly"),c=l("includeSystemScope"),C=l("localRepository"),B=l("settings"),g=l("id"),D=l("name"),y=l("url"),F=l("repository"),m=l("snapshotRepository"),v=l("distributionManagement");return e(),b("div",null,[_,a(d,null,{default:n(()=>{var p,h;return[(((p=t.$frontmatter)==null?void 0:p.aside)??!0)&&(((h=t.$frontmatter)==null?void 0:h.showArticleMetadata)??!0)?(e(),A(r,{key:0,article:t.$frontmatter},null,8,["article"])):o("",!0)]}),_:1}),M,i("ul",null,[j,w,I,i("li",null,[s("**system **依赖不是由maven仓库，而是本地的jar包，因此必须配合systemPath标签来指定本地的jar包所在全路径。这类jar包默认会参与编译、测试、运行，但是不会被参与打包阶段。如果也想打包进去的话，需要在插件里做配置"),a(c,null,{default:n(()=>[s("true")]),_:1})])]),P,a(d,null,{default:n(()=>{var p,h;return[(((p=t.$frontmatter)==null?void 0:p.aside)??!0)&&(((h=t.$frontmatter)==null?void 0:h.showArticleMetadata)??!0)?(e(),A(r,{key:0,article:t.$frontmatter},null,8,["article"])):o("",!0)]}),_:1}),S,s(" ### 4、Maven配置使用Nexus 修改Maven的`settings.xml`文件 ```xml "),a(B,{xmlns:"http://maven.apache.org/SETTINGS/1.0.0","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"},{default:n(()=>[a(C,null,{default:n(()=>[s("D:\\maven\\repository")]),_:1}),T]),_:1}),s(" ``` ## 创建私有公库 ### 1、打开要发布的maven项目 ### 2、修改项目的pom.xml ```xml "),a(v,null,{default:n(()=>[a(F,null,{default:n(()=>[a(g,null,{default:n(()=>[s("maven-releases")]),_:1}),a(D,null,{default:n(()=>[s("Nexus Release Repository")]),_:1}),a(y,null,{default:n(()=>[s("http://192.168.2.132:8081/repository/maven-releases/")]),_:1})]),_:1}),a(m,null,{default:n(()=>[a(g,null,{default:n(()=>[s("maven-snapshots")]),_:1}),a(D,null,{default:n(()=>[s("Nexus Snapshot Repository")]),_:1}),a(y,null,{default:n(()=>[s("http://192.168.2.132:8081/repository/maven-snapshots/")]),_:1})]),_:1})]),_:1}),s(" ``` ### 3、发布私有公库 ```shell mvn clean deploy ``` 登录Nexus，查看对应的仓库已经有相关的依赖包了 "),q,V,R])}const z=E(x,[["render",N]]);export{X as __pageData,z as default};
