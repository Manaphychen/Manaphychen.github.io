import{_ as F}from"./chunks/ArticleMetadata.H12JcJLK.js";import{_ as g,E as y,c as D,o as n,j as r,I as k,aj as d,w as p,b as t,e,a as C}from"./chunks/framework._AF764y6.js";const N=JSON.parse('{"title":"Linux Shell编程","description":"","frontmatter":{"title":"Linux Shell编程","date":"2023-10-26T22:30:28.000Z","permalink":"/linux/shell/","categories":["运维","Linux"],"tags":["linux"],"author":"Manaphy"},"headers":[],"relativePath":"ops/Linux/04.Linux Shell编程.md","filePath":"ops/Linux/04.Linux Shell编程.md","lastUpdated":1743620201000}'),o={name:"ops/Linux/04.Linux Shell编程.md"},A=r("h1",{id:"shell-概述",tabindex:"-1"},[C("Shell 概述 "),r("a",{class:"header-anchor",href:"#shell-概述","aria-label":"Permalink to “Shell 概述”"},"​")],-1),c=d(`<blockquote><p>Shell 是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序，用户可以用 Shell 来启动、挂起、停止甚至是编写一些程序。</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Linux 提供的 Shell 解析器有</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# cat /etc/shells</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/usr/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/usr/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># bash 和 sh 的关系</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy bin]# ll </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-rwxr-xr-x</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">     964536</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 11月</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 25</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 2021</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">lrwxrwxrwx</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">          4</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 6月</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  23</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 12:17</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sh</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># Centos 默认的解析器是 bash</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy bin]# echo $SHELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/bin/bash</span></span></code></pre></div><h1 id="shell-脚本入门" tabindex="-1">Shell 脚本入门 <a class="header-anchor" href="#shell-脚本入门" aria-label="Permalink to “Shell 脚本入门”">​</a></h1>`,3),u=d(`<p><strong>脚本格式要求</strong></p><ol><li>脚本以<code>#!/bin/bash</code> 开头</li><li>脚本需要有可执行权限</li></ol><p><strong>编写第一个Shell脚本</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> hello.sh</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #内容如下</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;hello world&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 执行方式一 sh+脚本 (不需要可执行权限)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sh</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> hello.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 执行方式二</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> hello.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 执行方式三 (需要有可执行权限)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> hello.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">./hello.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 执行方式四</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> hello.sh</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> hello.sh</span></span></code></pre></div><p>前两种方式都是在当前 shell 中打开一个子 shell 来执行脚本内容，当脚本内容结束，则 子 shell 关闭，回到父 shell 中。<br>第四种，也就是使用在脚本路径前加“.”或者 source 的方式，可以使脚本内容在当前 shell 里执行，而无需打开子 shell！这也是为什么我们每次要修改完/etc/profile 文件以后，需 要 source 一下的原因。<br>开子 shell 与不开子 shell 的区别就在于，环境变量的继承关系，如在子 shell 中设置的 当前变量，父 shell 是不可见的。</p><h1 id="shell-的变量" tabindex="-1">Shell 的变量 <a class="header-anchor" href="#shell-的变量" aria-label="Permalink to “Shell 的变量”">​</a></h1>`,6),B=d(`<blockquote><p>Linux Shell 中的变量分为 系统变量 和 用户自定义变量 。 系统变量：$HOME、$PWD、$SHELL、$USER 等等 3)显示当前 shell 中所有变量：set</p></blockquote><p><strong>Shell变量的定义</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 1.定义变量A</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">A</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">100</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#输出变量需要加上$</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> A=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$A</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;A=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$A</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 2.撤销变量A</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">unset</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> A</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;A=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$A</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 3.声明静态的变量B=2，不能unset</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">readonly</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> B</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;B=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$B</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#unset B</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 4.将指令返回的结果赋给变量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">C</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #反引号,运行里面的命令,并把结果返回给变量C</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#等价于反引号</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;C=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$C</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;D=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$D</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 多行注释</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">注释内容</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#使用环境变量TOMCAT_HOME</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;tomcat_home=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$TOMCAT_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><p><strong>定义变量的规则</strong></p><ol><li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写</li><li>等号两侧不能有空格</li><li>在 bash 中，变量默认类型都是字符串类型，无法直接进行数值运算。</li><li>变量的值如果有空格，需要使用双引号或单引号括起来</li></ol><h2 id="设置环境变量" tabindex="-1">设置环境变量 <a class="header-anchor" href="#设置环境变量" aria-label="Permalink to “设置环境变量”">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 将 shell 变量输出为环境变量/全局变量</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 变量名=变量值</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 让修改后的配置信息立即生效</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 配置文件</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 查询环境变量的值</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $变量名</span></span></code></pre></div><h2 id="位置参数变量" tabindex="-1">位置参数变量 <a class="header-anchor" href="#位置参数变量" aria-label="Permalink to “位置参数变量”">​</a></h2><blockquote><p>当我们执行一个 shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量</p></blockquote><p><strong>基本语法</strong></p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>名称</strong></th><th style="text-align:left;"><strong>功能描述</strong></th></tr></thead><tbody><tr><td style="text-align:left;">$n</td><td style="text-align:left;">n 为数字，$0 代表命令本身，$1-$9 代表第1~9个参数，10以上的参数需要用大括号包含，如\${10}</td></tr><tr><td style="text-align:left;">$*</td><td style="text-align:left;">这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体</td></tr><tr><td style="text-align:left;">$@</td><td style="text-align:left;">这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待</td></tr><tr><td style="text-align:left;">$#</td><td style="text-align:left;">这个变量代表命令行中所有参数的个数</td></tr></tbody></table><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;0=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 1=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 2=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$2</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;所有的参数=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$*</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$@</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;参数的个数=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$#</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy shcode]# ./position.sh 100 200</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">./position.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">200</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">所有的参数</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=100</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 200</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">100</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 200</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">参数的个数</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=2</span></span></code></pre></div><h2 id="预定义变量" tabindex="-1">预定义变量 <a class="header-anchor" href="#预定义变量" aria-label="Permalink to “预定义变量”">​</a></h2><blockquote><p>就是 shell 设计者事先已经定义好的变量，可以直接在 shell 脚本中使用 (用的很少)</p></blockquote><p><strong>基本语法</strong></p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>名称</strong></th><th style="text-align:left;"><strong>功能描述</strong></th></tr></thead><tbody><tr><td style="text-align:left;">$$</td><td style="text-align:left;">当前进程的进程号(PID)</td></tr><tr><td style="text-align:left;">$!</td><td style="text-align:left;">后台运行的最后一个进程的进程号(PID)</td></tr><tr><td style="text-align:left;">$?</td><td style="text-align:left;">最后一次执行的命令的返回状态。如果这个变量的值为 0，证明上一个命令正确执行；<br>如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。</td></tr></tbody></table><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;当前执行的进程id=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#以后台的方式运行一个脚本，并获取他的进程号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/root/shcode/position.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;最后一个后台方式运行的进程id=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$!</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;执行的结果是=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$?</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy shcode]# ./preVar.sh </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">当前执行的进程id</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=8258</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">最后一个后台方式运行的进程id</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=8259</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">执行的结果是</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy shcode]# 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/root/shcode/position.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">所有的参数</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">参数的个数</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">=0</span></span></code></pre></div><h1 id="引号字符" tabindex="-1">引号字符 <a class="header-anchor" href="#引号字符" aria-label="Permalink to “引号字符”">​</a></h1>`,20),b=d(`<h2 id="单引号" tabindex="-1">单引号 <a class="header-anchor" href="#单引号" aria-label="Permalink to “单引号”">​</a></h2><blockquote><p>Shell 中的单引号会忽略其中所有类型的特殊字符，单引号之间的所有内容都被视为一个元素。</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 忽略所有特殊字符</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo $var</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;$var&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$var</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;how are</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&gt; you&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">how</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> are</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">you</span></span></code></pre></div><h2 id="双引号" tabindex="-1">双引号 <a class="header-anchor" href="#双引号" aria-label="Permalink to “双引号”">​</a></h2><blockquote><p>双引号的工作方式与单引号几乎相似。几乎是因为他们也倾向于忽略所有特殊字符，除了 $ \` \\</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 忽略所有特殊字符,除了 $ \` \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$var</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 双引号可用于隐藏 shell 中的单引号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">my</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> chen</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-bash:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> name:</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> command</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> found</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;my name is chen&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo $var</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">my</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> chen</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;my &#39;name is&#39; chen&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo $var</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">my</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;name is&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> chen</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 同样也能反过来</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;my &quot;name is&quot; chen&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo $var</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">my</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;name is&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> chen</span></span></code></pre></div><h2 id="反斜杠" tabindex="-1">反斜杠 <a class="header-anchor" href="#反斜杠" aria-label="Permalink to “反斜杠”">​</a></h2><blockquote><p>反斜杠就像在单个字符周围加上单引号。</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 反斜杠“转义”它之前放置的字符。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\v</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">var</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\$</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">var</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$va</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 用反斜杠继续该行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# ll </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> -h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">total</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 48K</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">-rw-r--r--</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  201</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Jan</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  1</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  2022</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 1.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">drwxr-xr-x</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  2</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Sep</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  9</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  2020</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> admin-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 双引号内的反斜杠</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;Meal costs </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$5</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.25&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Meal</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> costs</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> .25</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;Meal costs </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">5.25&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">Meal</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> costs</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;"> $5</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.25</span></span></code></pre></div><h2 id="反引号" tabindex="-1">反引号 <a class="header-anchor" href="#反引号" aria-label="Permalink to “反引号”">​</a></h2><blockquote><p>它用于命令替换。 多年来，反引号用于 Shell 脚本中的命令替换，但是现在，现代 UNIX 和 Linux 系统更喜欢这种$(command)结构。</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo today is </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">today</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Thu</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Aug</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 00:09:12</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> CST</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 2022</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;today is \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">today</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Thu</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Aug</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">  4</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 00:09:49</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> CST</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 2022</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;today is \`date\`&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">today</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 不再推荐反引号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]# echo today is $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">today</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Thu</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Aug</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> 00:11:20</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> CST</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 2022</span></span></code></pre></div><h1 id="运算符" tabindex="-1">运算符 <a class="header-anchor" href="#运算符" aria-label="Permalink to “运算符”">​</a></h1>`,13),E=d(`<blockquote><p>在 shell 中进行各种运算操作</p></blockquote><p><strong>基本语法</strong></p><ol><li><code>$((运算式))</code> 或 <code>$[运算式]</code> 或者 <code>expr m + n</code> //expr--&gt;expression 表达式</li><li>注意 expr 运算符间要有空格，如果希望将 expr 的结果赋给某个变量，使用 \`\`\`\`</li><li><code>expr m - n</code></li><li><code>expr \\*(乘), /(除), %(取余)</code></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 1.计算(2+3)×4的值</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#方式一</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">RES1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$(((</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">2+3</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">*4</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;res1=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$RES1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#方式二(推荐使用)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">RES2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">2+3</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">*4</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;res2=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$RES2</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#方式三 expr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TEMP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">expr</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> + </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">RES4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">expr</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $TEMP</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\*</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">\`</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;temp=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$TEMP</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;res4=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$RES4</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 2.请求出命令行的两个参数[整数]的和 20 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">SUM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">+</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">$2</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;sum=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$SUM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy shcode]# ./oper.sh 20 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">res1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">20</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">res2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">20</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">temp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">res4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">20</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">sum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">70</span></span></code></pre></div><h1 id="条件测试语句" tabindex="-1">条件测试语句 <a class="header-anchor" href="#条件测试语句" aria-label="Permalink to “条件测试语句”">​</a></h1>`,6),m=d(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ] </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#里面是条件表达式</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> $?</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #如果输出0则表示为真 1为假</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">按照文件权限进行判断</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-r 有读的权限</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-w 有写的权限</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-x 有执行的权限</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">按照文件类型进行判断</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-f 文件存在并且是一个常规的文件</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-e 文件存在</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-d 文件存在并是一个目录</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-d</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /etc/fstab ] </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#判断是否存在/etc/fstab目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-f</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /etc/fstab ] </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#判断是否存在/etc/fstab文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 逻辑判断</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># &amp;&amp; 逻辑与 前面的命令为真才会执行它后面的命令</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;ok&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;ok&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ] &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;success&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># || 逻辑或 前面的命令为假才会执行它后面的命令</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ $USER </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> root ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># ! 逻辑非</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $USER </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> root ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;administrator&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $USER </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> root ] &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;user&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;root&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> #输出的结果为root</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 整数比较运算符</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">两个整数的比较</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-lt 小于</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-le 小于等于</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-eq 等于</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-gt 大于</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-ge 大于等于</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-ne 不等于</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -gt</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -eq</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 字符串比较运算符</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">= 比较字符串内容是否相同</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">!= 比较字符串内容是否不同</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-z 判断字符串内容是否为空</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 通过判断 String 变量是否为空值，进而判断是否定义了这个变量</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-z</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $String ] &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;变量未定义&#39;</span></span></code></pre></div><h1 id="流程控制" tabindex="-1">流程控制 <a class="header-anchor" href="#流程控制" aria-label="Permalink to “流程控制”">​</a></h1>`,2),q=d(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 1. &quot;ok&quot;是否等于&quot;ok&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#判断语句：使用 =</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;ok&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;ok&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ] </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># condition 前后要有空格</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;equal&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 2. 23是否大于等于22</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">23</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -ge</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 22</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;大于&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 3. /root/shcode/aaa.txt 目录中的文件是否存在</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-f</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /root/shcode/aaa.txt ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;存在&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fi</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 如果条件为非空,则返回true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#if [  ] 为空中间要有空格</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ chen ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;hello,chen&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fi</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 3</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -i</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0.2</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -W</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 3</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;"> $1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -eq</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ] </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;Host </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is On-line.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;Host </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> is Off-line.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fi</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 如果输入的参数，大于等于60，则输出 &quot;及格了&quot;，如果小于60,则输出 &quot;不及格&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">$1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -ge</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;及格了&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">elif</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">$1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -lt</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ] </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;不及格&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fi</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 或</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">$1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -ge</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;及格了&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;不及格&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fi</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 当命令行参数是 1 时，输出 &quot;周一&quot;, 是2 时，就输出&quot;周二&quot;， 其它情况输出  &quot;other&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">case</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;"> $1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> in</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;周一&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;2&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;周二&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;other...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">esac</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">read</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;请输入一个字符，并按Enter键确认：&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> KEY</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">case</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$KEY</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> in</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">        [a-z]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[A-Z]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;你输入的是字母。&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                ;;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">        [0-9]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;你输入的是数字。&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">                ;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">        *)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">                echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;你输入的是其他字符。&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">esac</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 打印命令行输入的参数 [这里可以看出$* 和 $@ 的区别]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#注意 $* 是把输入的参数当做一个整体,所以只会输出一句</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$*</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;num is </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$i</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">done</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#使用 $@来获取输入的参数(注意:这时是分别对待,所以有几个参数就输出几句)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;======================================&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$@</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">do</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;num is </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$j</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">done</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 从1加到100的值输出显示, 如何把100做成一个变量</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#定义一个变量 SUM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">SUM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(( i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;=</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">$1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">do</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#写上你的业务代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	SUM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$SUM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$i]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">done</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;总和SUM=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$SUM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 读取users.txt用户名,如果用户存在则跳过,不存在则创建用户并设置输入的密码</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">read</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;Enter The Users Password : &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> PASSWD</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> UNAME </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> users.txt\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">  id</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $UNAME &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /dev/null </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">$?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -eq</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ] </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$UNAME</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> , Already exists&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  else</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">    useradd</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $UNAME &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$PASSWD</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> passwd</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --stdin</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $UNAME &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$UNAME</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> , Create success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  fi</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">done</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 从命令行输入一个数n，统计从 1+..+ n 的值是多少？</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">SUM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> [ $i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-le</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;"> $1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">do</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	SUM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$SUM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$i]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	#i自增</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$i</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">+1</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">done</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;执行结果=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$SUM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><h1 id="read读取控制台输入" tabindex="-1">read读取控制台输入 <a class="header-anchor" href="#read读取控制台输入" aria-label="Permalink to “read读取控制台输入”">​</a></h1>`,10),$=d(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 读取控制台输入一个NUM1值</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-p: 指定读取值时的提示符</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">-t: 指定读取值时等待的时间(秒),如果没有在指定的时间内输入，就不再等待了</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">read</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;请输入一个数NUM1=&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NUM1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;你输入的NUM1=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$NUM1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 读取控制台输入一个NUM2值，在10秒内输入。</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">read</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -t</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 10</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;请输入一个数NUM2=&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> NUM2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;你输入的NUM2=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$NUM2</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span></code></pre></div><h1 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to “函数”">​</a></h1>`,2),v=d(`<blockquote><p>shell 编程和其它编程语言一样，有系统函数，也可以自定义函数</p></blockquote><p><strong>系统函数</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># basename 返回完整路径最后 / 的部分,常用于获取文件名</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">语法: basename [pathname] [suffix]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">pathname:路径</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">suffix:后缀,如果有指定,将会去掉后缀</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#ADBAC7;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy shcode]# basename /home/aaa/a.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a.txt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy shcode]# basename /home/aaa/a.txt .txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># dirname 返回完整路径最后 / 的前面的部分，常用于返回路径部分</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[root@Manaphy shcode]# dirname /home/aaa/a.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">/home/aaa</span></span></code></pre></div><p><strong>自定义函数</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># 计算输入两个参数的和(动态的获取)， getSum</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#定义函数 getSum</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> getSum</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	SUM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$n1</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$n2]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;和是=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$SUM</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#输入两个值</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">read</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;请输入一个数n1=&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> n1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">read</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;请输入一个数n2=&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> n2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#调用自定义函数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">getSum</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $n1 $n2</span></span></code></pre></div><p><strong>综合案例</strong><br>每天凌晨 2:30 备份数据库到 /data/backup/db</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#备份目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">BACKUP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/data/backup/db</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#当前时间</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DATETIME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> +%Y-%m-%d_%H%M%S</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $DATETIME</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#数据库的地址</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">localhost</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#数据库用户名</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DB_USER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">root</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#数据库密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DB_PW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">root</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#备份的数据库名</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DATABASE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">chen</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#创建备份目录, 如果不存在，就创建</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">BACKUP</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DATETIME</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ] &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">BACKUP</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DATETIME</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#备份数据库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">mysqldump</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	-u\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DB_USER</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -p\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DB_PW</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --host=\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">HOST</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -q</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">	-R</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --databases</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> \${DATABASE} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> gzip</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> \${BACKUP}</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">\${DATETIME}</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">$DATETIME</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.sql.gz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#将文件处理成 tar.gz </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">cd</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> \${BACKUP}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -zcvf</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> $DATETIME</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">.tar.gz</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> \${DATETIME} </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#删除对应的备份目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -rf</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> \${BACKUP}</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">\${DATETIME}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#删除 10 天前的备份文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> \${BACKUP} </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">-atime</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> +10</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;*.tar.gz&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -exec</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> {}</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;备份数据库\${</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">DATABASE</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">} 成功~&quot;</span></span></code></pre></div>`,7);function _(s,f,S,M,x,T){const h=F,l=y("ClientOnly");return n(),D("div",null,[A,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),c,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),u,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),B,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),b,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),E,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),m,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),q,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),$,k(l,null,{default:p(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),t(h,{key:0,article:s.$frontmatter},null,8,["article"])):e("",!0)]}),_:1}),v])}const I=g(o,[["render",_]]);export{N as __pageData,I as default};
